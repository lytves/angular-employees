(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return hn}),n.d(e,"b",function(){return wu}),n.d(e,"c",function(){return gu}),n.d(e,"d",function(){return pu}),n.d(e,"e",function(){return mu}),n.d(e,"f",function(){return pc}),n.d(e,"g",function(){return ic}),n.d(e,"h",function(){return ba}),n.d(e,"i",function(){return Nu}),n.d(e,"j",function(){return Go}),n.d(e,"k",function(){return Ou}),n.d(e,"l",function(){return Qo}),n.d(e,"m",function(){return Tr}),n.d(e,"n",function(){return Za}),n.d(e,"o",function(){return os}),n.d(e,"p",function(){return _n}),n.d(e,"q",function(){return ln}),n.d(e,"r",function(){return Es}),n.d(e,"s",function(){return da}),n.d(e,"t",function(){return pa}),n.d(e,"u",function(){return Su}),n.d(e,"v",function(){return ja}),n.d(e,"w",function(){return oc}),n.d(e,"x",function(){return Aa}),n.d(e,"y",function(){return Xu}),n.d(e,"z",function(){return Ru}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return _u}),n.d(e,"C",function(){return bu}),n.d(e,"D",function(){return Yo}),n.d(e,"E",function(){return Zo}),n.d(e,"F",function(){return Ar}),n.d(e,"G",function(){return ta}),n.d(e,"H",function(){return vr}),n.d(e,"I",function(){return Sn}),n.d(e,"J",function(){return cc}),n.d(e,"K",function(){return Ta}),n.d(e,"L",function(){return Hu}),n.d(e,"M",function(){return fn}),n.d(e,"N",function(){return na}),n.d(e,"O",function(){return ea}),n.d(e,"P",function(){return Na}),n.d(e,"Q",function(){return V}),n.d(e,"R",function(){return tc}),n.d(e,"S",function(){return Zu}),n.d(e,"T",function(){return _}),n.d(e,"U",function(){return Qu}),n.d(e,"V",function(){return fc}),n.d(e,"W",function(){return $u}),n.d(e,"X",function(){return Eu}),n.d(e,"Y",function(){return us}),n.d(e,"Z",function(){return No}),n.d(e,"ab",function(){return gr}),n.d(e,"bb",function(){return Xn}),n.d(e,"cb",function(){return Hn}),n.d(e,"db",function(){return Bn}),n.d(e,"eb",function(){return Wn}),n.d(e,"fb",function(){return Gn}),n.d(e,"gb",function(){return $n}),n.d(e,"hb",function(){return Kn}),n.d(e,"ib",function(){return xo}),n.d(e,"jb",function(){return hc}),n.d(e,"kb",function(){return Ao}),n.d(e,"lb",function(){return jo}),n.d(e,"mb",function(){return zn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return Ns}),n.d(e,"pb",function(){return Ks}),n.d(e,"qb",function(){return Gs}),n.d(e,"rb",function(){return Io}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return qn}),n.d(e,"vb",function(){return Os}),n.d(e,"wb",function(){return Tt}),n.d(e,"xb",function(){return zo}),n.d(e,"yb",function(){return hi}),n.d(e,"zb",function(){return Rs}),n.d(e,"Ab",function(){return ao}),n.d(e,"Bb",function(){return oo}),n.d(e,"Cb",function(){return lu}),n.d(e,"Db",function(){return tt}),n.d(e,"Eb",function(){return at}),n.d(e,"Fb",function(){return S}),n.d(e,"Gb",function(){return O}),n.d(e,"Hb",function(){return it}),n.d(e,"Ib",function(){return ut}),n.d(e,"Jb",function(){return Fs}),n.d(e,"Kb",function(){return Hs}),n.d(e,"Lb",function(){return Bs}),n.d(e,"Mb",function(){return zs}),n.d(e,"Nb",function(){return qs}),n.d(e,"Ob",function(){return Us}),n.d(e,"Pb",function(){return $s}),n.d(e,"Qb",function(){return on}),n.d(e,"Rb",function(){return Eo}),n.d(e,"Sb",function(){return Nn}),n.d(e,"Tb",function(){return an}),n.d(e,"Ub",function(){return du}),n.d(e,"Vb",function(){return Ws}),n.d(e,"Wb",function(){return hu}),n.d(e,"Xb",function(){return Zs}),n.d(e,"Yb",function(){return Ja}),n.d(e,"Zb",function(){return Qa}),n.d(e,"ac",function(){return Vs}),n.d(e,"bc",function(){return Ka}),n.d(e,"cc",function(){return cu}),n.d(e,"dc",function(){return Qt}),n.d(e,"ec",function(){return br}),n.d(e,"fc",function(){return _r}),n.d(e,"gc",function(){return st}),n.d(e,"hc",function(){return so}),n.d(e,"ic",function(){return So}),n.d(e,"jc",function(){return Ls}),n.d(e,"kc",function(){return bo}),n.d(e,"lc",function(){return _o}),n.d(e,"mc",function(){return wo});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function g(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=m({__forward_ref__:m});function _(t){return t.__forward_ref__=_,t.toString=function(){return y(this())},t}function w(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===_}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return C(t,x)||C(t,j)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const x=m({"\u0275prov":m}),A=m({"\u0275inj":m}),j=m({ngInjectableDef:m}),k=m({ngInjectorDef:m});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=M||H||U||q,B={},$=[],G=m({"\u0275cmp":m}),K=m({"\u0275dir":m}),W=m({"\u0275pipe":m}),J=m({"\u0275mod":m}),Q=m({"\u0275loc":m}),Z=m({"\u0275fac":m}),Y=m({__NG_ELEMENT_ID__:m});let X=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||$,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[K]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||$,declarations:t.declarations||$,imports:t.imports||$,exports:t.exports||$,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function st(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||$,n.imports=e.imports||$,n.exports=e.exports||$})}function ot(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function St(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${Et(t)} found${n}`)}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Tt(){return Ct}function Ct(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),It}function It(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ot(u&&u.currentValue,e,o===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Tt.ngInherit=!0;let jt=void 0;function kt(t){jt=t}function Nt(){return void 0!==jt?jt:"undefined"!=typeof document?document:void 0}function Pt(t){return!!t.listen}const Dt={createRenderer:(t,e)=>Nt()};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Lt(t,e){return Rt(e[t])}function Ft(t,e){return Rt(e[t.index])}function Vt(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qt(t){return 4==(4&t[2])}function Ht(t){return 128==(128&t[2])}function zt(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function $t(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:ge(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kt(){return Gt.bindingsEnabled}function Wt(){return Gt.lFrame.lView}function Jt(){return Gt.lFrame.tView}function Qt(t){Gt.lFrame.contextLView=t}function Zt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return Gt.lFrame.currentTNode}function Xt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function te(){return Gt.lFrame.isParent}function ee(){Gt.lFrame.isParent=!1}function ne(){return Gt.isInCheckNoChangesMode}function re(t){Gt.isInCheckNoChangesMode=t}function ie(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function se(){return Gt.lFrame.bindingIndex++}function oe(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ae(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ue(e)}function ue(t){Gt.lFrame.currentDirectiveIndex=t}function ce(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function le(){return Gt.lFrame.currentQueryIndex}function he(t){Gt.lFrame.currentQueryIndex=t}function fe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=me();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=me(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function me(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?ge(t):e}function ge(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ve=ye;function be(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return Gt.lFrame.selectedIndex}function we(t){Gt.lFrame.selectedIndex=t}function Ee(){const t=Gt.lFrame;return Vt(t.tView,t.selectedIndex)}function Se(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Ie(t,e,3,n)}function Te(t,e,n,r){(3&t[2])===n&&Ie(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ie(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(xe(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function xe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ae=-1;class je{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Pe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function Pe(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Re(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Re(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Le(t){return t!==Ae}function Fe(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function Ue(t){const e=Me;return Me=t,e}let qe=0;function He(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));const i=$e(t,e),s=t.injectorIndex;if(Le(i)){const t=Fe(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $e(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ae;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ae}function Ge(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=qe++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function Ke(t,e,n){if(n&N.Optional)return t;St(e,"NodeInjector")}function We(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{D(s)}}return Ke(r,e,n)}function Je(t,e,n,r=N.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof s){if(!de(e,t,r))return r&N.Host?Ke(i,n,r):We(e,n,r,i);try{const t=s();if(null!=t||r&N.Optional)return t;St(n)}finally{ve()}}else if("number"==typeof s){let i=null,o=Be(t,e),a=Ae,u=r&N.Host?e[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?$e(t,e):e[o+8],a!==Ae&&nn(r,!1)?(i=e[1],o=Fe(a),e=Ve(a,e)):o=-1);-1!==o;){const t=e[1];if(en(s,o,t.data)){const t=Ye(o,e,n,i,r,u);if(t!==Qe)return t}a=e[o+8],a!==Ae&&nn(r,e[1].data[o+8]===u)&&en(s,o,e)?(i=t,o=Fe(a),e=Ve(a,e)):o=-1}}}return We(e,n,r,i)}const Qe={};function Ze(){return new rn(Zt(),Wt())}function Ye(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Xe(a,o,n,null==r?gt(a)&&Me:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==u?tn(e,o,u,a):Qe}function Xe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function tn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof je){const o=i;o.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(Et(s[n]));const a=Ue(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;de(t,r,N.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ct(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Ue(a),o.resolving=!1,ve()}}return i}function en(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function nn(t,e){return!(t&N.Self||t&N.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Je(this._tNode,this._lView,t,void 0,e)}}function sn(t){const e=t;if(E(t))return()=>{const t=sn(w(e));return t?t():null};let n=bt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function on(t){return L(()=>{const e=t.prototype.constructor,n=e[Z]||sn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||sn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Zt(),t)}const un="__parameters__";function cn(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const hn=new ln("AnalyzeForEntryComponents"),fn=Function;function dn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),dn(r,e)):e!==t&&e.push(r)}return e}function pn(t,e){t.forEach(t=>Array.isArray(t)?pn(t,e):e(t))}function mn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _n=cn("Inject",t=>({token:t})),wn=cn("Optional"),En=cn("Self"),Sn=cn("SkipSelf"),On={},Tn=/\n/gm,Cn="__source",In=m({provide:String,useValue:m});let xn,An=void 0;function jn(t){const e=An;return An=t,e}function kn(t,e=N.Default){if(void 0===An)throw new Error("inject() must be called from an injection context");return null===An?R(t,void 0,e):An.get(t,e&N.Optional?null:void 0,e)}function Nn(t,e=N.Default){return(P||kn)(w(t),e)}function Pn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof wn||"Optional"===i.ngMetadataName||i===wn?n|=N.Optional:i instanceof Sn||"SkipSelf"===i.ngMetadataName||i===Sn?n|=N.SkipSelf:i instanceof En||"Self"===i.ngMetadataName||i===En?n|=N.Self:t=i instanceof _n||i===_n?i.token:i}e.push(Nn(t,n))}else e.push(Nn(r))}return e}function Dn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,z.trustedTypes))try{xn=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Ln extends Rn{getTypeName(){return"HTML"}}class Fn extends Rn{getTypeName(){return"Style"}}class Vn extends Rn{getTypeName(){return"Script"}}class Mn extends Rn{getTypeName(){return"URL"}}class Un extends Rn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function zn(t){return t instanceof Rn&&t.getTypeName()||null}function Bn(t){return new Ln(t)}function $n(t){return new Fn(t)}function Gn(t){return new Vn(t)}function Kn(t){return new Mn(t)}function Wn(t){return new Un(t)}class Jn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Dn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Dn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Dn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Zn)||t.match(Yn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),sr=er(ir,rr),or=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!cr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ar[s]&&(o=Xn(o)),ur[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function gr(t,e){let n=null;try{mr=mr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(t){return!1}}()?new Jn:new Qn(t)}(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==s);return(new hr).sanitizeChildren(yr(n)||n)}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=wr();return e?e.sanitize(vr.HTML,t)||"":Hn(t,"HTML")?qn(t):gr(Nt(),wt(t))}function _r(t){const e=wr();return e?e.sanitize(vr.URL,t)||"":Hn(t,"URL")?qn(t):Xn(wt(t))}function wr(){const t=Wt();return t&&t[12]}function Er(t){return t.ngDebugContext}function Sr(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Er(t)?Er(t):this._findContext(Sr(t)):null}_findOriginalError(t){let e=Sr(t);for(;e&&Sr(e);)e=Sr(e);return e}}function Cr(t,e){t.__ngContext__=e}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function xr(t){return t instanceof Function?t():t}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function jr(t,e){return(void 0)(t,e)}function kr(t){const e=t[3];return pt(e)?e[3]:e}function Nr(t){return Dr(t[13])}function Pr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?Hr(e,n,a):qr(e,n,a,i||null,!0):1===t&&null!==n?qr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Br(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Rt(n)&&Rr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Jr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Lr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,$t(i,-1)),n.splice(r,1)}function Vr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Fr(s,r),e>0&&(t[n-1][4]=r[4]);const o=gn(t,ft+e);Jr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&Jr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ur(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Ur(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Ur(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ur(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof je)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const s=n[t+1],o="function"==typeof s?s(e):Rt(e[s]),a=r[i=n[t+2]],u=n[t+3];"boolean"==typeof u?o.removeEventListener(n[t],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),t+=2}else{const e=r[i=n[t+1]];n[t].call(e)}if(null!==r)for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Fr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Hr(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,r,i){null!==r?qr(t,e,n,r,i):Hr(t,e,n)}function Br(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function $r(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Ft(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Ft(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zr(s,i,n[a],o,!1);else zr(s,i,n,o,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Ft(e,t);if(4&n)return Kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return pt(n)?Kr(-1,n):Rt(n)}}if(32&n)return jr(e,t)()||Rt(t[e.index]);{const n=t[16],r=n[6],i=kr(n),s=r.projection[e.projection];return null!=s?Gr(i,s):Gr(t,e.next)}}return null}function Kr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Wr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Cr(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Wr(t,e,n.child,r,i,s,!1),Rr(e,t,i,a,s);else if(32&u){const o=jr(n,r);let u;for(;u=o();)Rr(e,t,i,u,s);Rr(e,t,i,a,s)}else 16&u?Qr(t,e,r,n,i,s):Rr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Jr(t,e,n,r,i,s){Wr(n,r,t.firstChild,e,i,s,!1)}function Qr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Rr(e,t,i,a[u],s);else Wr(t,e,a,o[3],i,s,!0)}function Zr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ti="ng-template";function ei(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ni(t){return 4===t.type&&t.value!==ti}function ri(t,e,n){return e===(4!==t.type||n?t.value:ti)}function ii(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ri(t,u,n)||""===u&&1===e.length){if(si(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ei(t.attrs,c,n)){if(si(r))return!1;o=!0}continue}const l=oi(8&r?"class":u,i,ni(t),n);if(-1===l){if(si(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,c,0)||2&r&&c!==t){if(si(r))return!1;o=!0}}}}else{if(!o&&!si(r)&&!si(u))return!1;if(o&&si(u))continue;o=!1,r=u|1&r}}return si(r)||o}function si(t){return 0==(1&t)}function oi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ai(t,e,n=!1){for(let r=0;r<e.length;r++)if(ii(t,e[r],n))return!0;return!1}function ui(t,e){return t?":not("+e.trim()+")":e}function ci(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||si(o)||(e+=ui(s,i),i=""),r=o,s=s||!si(r);n++}return""!==i&&(e+=ui(s,i)),e}const li={};function hi(t){fi(Jt(),Wt(),_e()+t,ne())}function fi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Te(e,r,0,n)}we(n)}function di(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function mi(t){return 2|t}function gi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function vi(t){return 1|t}function bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];he(i),n.contentQueries(2,e[s],s)}}}function _i(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function wi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Yt(),o=te(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Gt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Xt(s,!0),s}function Ei(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Si(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&Xi(1,r,n);const i=t.template;null!==i&&Ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bi(t,e),t.staticViewQueries&&Xi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const s=ne();try{Bt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ci(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Nr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&$t(r,1),n[2]|=1024}}}(e),function(t){for(let e=Nr(t);null!==e;e=Pr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ht(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&bi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,$t(e[3],-1))}finally{be()}}function Ti(t,e,n,r){const i=e[10],s=!ne(),o=qt(e);try{s&&!o&&i.begin&&i.begin(),o&&Si(t,e,r),Oi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ci(t,e,n,r,i){const s=_e();try{we(-1),2&r&&e.length>ht&&fi(t,e,ht,ne()),n(r,i)}finally{we(s)}}function Ii(t,e,n){if(mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function xi(t,e,n){Kt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||He(n,e),Cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&Hi(e,n,r);const u=tn(e,t,a,n);Cr(u,e),null!==o&&zi(0,a-i,u,r,0,o),s&&(Mt(n.index,e)[8]=u)}}(t,e,n,Ft(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Gt.lFrame.currentDirectiveIndex;try{we(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fi(r,i)}}finally{we(-1),ue(o)}}(t,e,n))}function Ai(t,e,n=Ft){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ki(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:li);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ni(t,e,n,r){const i=es(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ns(t).push(r,i.length-1))}function Pi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,s,o,a){const u=Ft(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(is(t,n,c,r,i),gt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Pt(s)?s.setProperty(u,r,i):Pe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ri(t,e,n,r){let i=!1;if(Kt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ai(n,o.selectors,!1)&&(i||(i=[]),Ge(He(n,e),t,o.type),vt(o)?(Vi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ui(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ei(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=De(n.mergedAttrs,c.hostAttrs),qi(t,n,e,u,c),Mi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ni(e)?null:Bi(n,i);s.push(c),o=Pi(n,u,o),a=Pi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function Li(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Ui(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new je(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Li(t,e,0,r,Ei(t,n,i.hostVars,li),i)}function Hi(t,e,n){const r=Ft(e,t),i=ji(n),s=t[10],o=Ji(t,_i(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function zi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Bi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Mt(e,t);if(Ht(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Nr(t);null!==n;n=Pr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Ht(r)&&r[5]>0&&Ki(r)}}function Wi(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Si(r,n,n[8])}function Ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qi(t){for(;t;){t[2]|=64;const e=kr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw rs(e,i),i}finally{r.end&&r.end()}}function Yi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Ti(i,r,i.template,n)}}(t[8])}function Xi(t,e,n){he(0),e(t,n)}const ts=(()=>Promise.resolve(null))();function es(t){return t[7]||(t[7]=[])}function ns(t){return t.cleanup||(t.cleanup=[])}function rs(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function is(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ss(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=v(i,t):2==s&&(r=v(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const os=new ln("INJECTOR",-1);class as{get(t,e=On){if(e===On){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const us=new ln("Set Injector scope."),cs={},ls={},hs=[];let fs=void 0;function ds(){return void 0===fs&&(fs=new as),fs}function ps(t,e=null,n=null,r){return new ms(t,n,e||ds(),r)}class ms{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pn(e,n=>this.processProvider(n,t,e)),pn([t],t=>this.processInjectorType(t,[],i)),this.records.set(os,vs(void 0,this));const s=this.records.get(us);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=On,n=N.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ln)&&T(t);e=n&&this.injectableDefInScope(n)?vs(gs(t),cs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?ds():this.parent).get(t,e=n&N.Optional&&e===On?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(y(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Tn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{pn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pn(r,t=>this.processProvider(t,n,r||hs))}}this.injectorDefTypes.add(s),this.records.set(s,vs(r.factory,cs));const a=r.providers;if(null!=a&&!o){const e=t;pn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=_s(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return bs(t)?vs(void 0,t.useValue):vs(ys(t),cs)}(t);if(_s(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=vs(void 0,cs,!0),e.factory=()=>Pn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===cs&&(e.value=ls,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function gs(t){const e=T(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof ln)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ys(t,e,n){let r=void 0;if(_s(t)){const e=w(t);return bt(e)||gs(e)}if(bs(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Pn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Nn(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||gs(e);r=()=>new e(...Pn(t.deps))}var i;return r}function vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bs(t){return null!==t&&"object"==typeof t&&In in t}function _s(t){return"function"==typeof t}const ws=function(t,e,n){return function(t,e=null,n=null,r){const i=ps(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Es=(()=>{class t{static create(t,e){return Array.isArray(t)?ws(t,e,""):ws(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=On,t.NULL=new as,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>Nn(os)}),t.__NG_ELEMENT_ID__=-1,t})();function Ss(t,e){Se(Ut(t)[1],Zt())}function Os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ts(t.inputs),e.declaredInputs=Ts(t.declaredInputs),e.outputs=Ts(t.outputs);const n=i.hostBindings;n&&xs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Cs(t,s),o&&Is(t,o),g(t.inputs,i.inputs),g(t.declaredInputs,i.declaredInputs),g(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function Ts(t){return t===B?{}:t===$?[]:t}function Cs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Is(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function xs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let As=null;function js(){if(!As){const t=z.Symbol;if(t&&t.iterator)As=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(As=n)}}}return As}class ks{constructor(t){this.wrapped=t}static wrap(t){return new ks(t)}static unwrap(t){return ks.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ks}}function Ns(t){return!!Ps(t)&&(Array.isArray(t)||!(t instanceof Map)&&js()in t)}function Ps(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ds(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Rs(t,e,n,r){const i=Wt();return Ds(i,se(),e)&&(Jt(),function(t,e,n,r,i,s){const o=Ft(t,e);!function(t,e,n,r,i,s,o){if(null==s)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?wt(s):o(s,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Ee(),i,t,e,n,r)),Rs}function Ls(t,e,n,r,i,s,o,a){const u=Wt(),c=Jt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=wi(e,t,4,o||null,zt(c,a));Ri(e,n,l,zt(c,u)),Se(e,l);const h=l.tViews=ki(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Xt(h,!1);const f=u[11].createComment("");$r(c,u,f,h),Cr(f,u),Ji(u,u[l]=$i(f,u,f,h)),yt(h)&&xi(c,u,h),null!=o&&Ai(u,h,a)}function Fs(t,e=N.Default){const n=Wt();return null===n?Nn(t,e):Je(Zt(),n,w(t),e)}function Vs(t,e,n){const r=Wt();return Ds(r,se(),e)&&Di(Jt(),Ee(),r,t,e,r[11],n,!1),Vs}function Ms(t,e,n,r,i){const s=i?"class":"style";is(t,n,e.inputs[s],s,r)}function Us(t,e,n,r){const i=Wt(),s=Jt(),o=ht+t,a=i[11],u=i[o]=Lr(a,e,Gt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=wi(e,t,2,i,zt(a,s));return Ri(e,n,u,zt(a,o)),null!==u.attrs&&ss(u,u.attrs,!1),null!==u.mergedAttrs&&ss(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Xt(c,!0);const l=c.mergedAttrs;null!==l&&ke(a,u,l);const h=c.classes;null!==h&&Yr(a,u,h);const f=c.styles;null!==f&&Zr(a,u,f),64!=(64&c.flags)&&$r(s,i,u,c),0===Gt.lFrame.elementDepthCount&&Cr(u,i),Gt.lFrame.elementDepthCount++,yt(c)&&(xi(s,i,c),Ii(s,c,i)),null!==r&&Ai(i,c)}function qs(){let t=Zt();te()?ee():(t=t.parent,Xt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Jt();n.firstCreatePass&&(Se(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,Wt(),e.stylesWithoutHost,!1)}function Hs(t,e,n,r){Us(t,e,n,r),qs()}function zs(t,e,n){const r=Wt(),i=Jt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=zt(s,r),a=wi(e,t,8,"ng-container",o);return null!==o&&ss(a,o,!0),Ri(e,n,a,zt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Xt(o,!0);const a=r[s]=r[11].createComment("");$r(i,r,a,o),Cr(a,r),yt(o)&&(xi(i,r,o),Ii(i,o,r)),null!=n&&Ai(r,o)}function Bs(){let t=Zt();const e=Jt();te()?ee():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(Se(e,t),mt(t)&&e.queries.elementEnd(t))}function $s(){return Wt()}function Gs(t){return!!t&&"function"==typeof t.then}function Ks(t){return!!t&&"function"==typeof t.subscribe}function Ws(t,e,n=!1,r){const i=Wt(),s=Jt(),o=Zt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&ns(t),l=es(e);let h=!0;if(3&r.type){const f=Ft(r,e),d=a?a(f):B,p=d.target||f,m=l.length,g=a?t=>a(Rt(t[r.index])).target:r.index;if(Pt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Qs(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Qs(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=Qs(r,e,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Ws}function Js(t,e,n){try{return!1!==e(n)}catch(r){return rs(t,r),!1}}function Qs(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Qi(o);let a=Js(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Js(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Zs(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}const Ys=[];function Xs(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pi(s):gi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];to(t[a],e)&&(u=!0,t[a+1]=r?vi(n):mi(n)),a=r?pi(n):gi(n)}u&&(t[n+1]=r?mi(s):vi(s))}function to(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function no(t){return t.substring(eo.key,eo.keyEnd)}function ro(t,e){const n=eo.textEnd;return n===e?-1:(e=eo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,eo.key=e,n),io(t,e,n))}function io(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function so(t,e,n){return co(t,e,n,!1),so}function oo(t,e){return co(t,e,null,!0),oo}function ao(t){!function(t,e,n,r){const i=Jt(),s=oe(2);i.firstUpdatePass&&ho(i,null,s,r);const o=Wt();if(n!==li&&Ds(o,s,n)){const a=i.data[_e()];if(vo(a,r)&&!lo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=v(t,n||"")),Ms(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===li&&(i=Ys);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&mo(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Ys;const r=[],i=qn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(yn,uo,t,!0)}function uo(t,e){for(let n=function(t){return function(t){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=t.length}(t),ro(t,io(t,0,eo.textEnd))}(e);n>=0;n=ro(e,n))yn(t,no(e),!0)}function co(t,e,n,r){const i=Wt(),s=Jt(),o=oe(2);s.firstUpdatePass&&ho(s,t,o,r),e!==li&&Ds(i,o,e)&&mo(s,s.data[_e()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=y(qn(t)))),t}(e,n),r,o)}function lo(t,e){return e>=t.expandoStartIndex}function ho(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_e()],o=lo(t,n);vo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ce(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=po(n=fo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=fo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==gi(r))return t[pi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=fo(null,t,e,n[1],r),n=po(n,e.attrs,r),function(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=po(r,t[s].hostAttrs,n);return po(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=gi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=pi(t[a+1]);t[r+1]=di(e,a),0!==e&&(t[e+1]=yi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=di(a,0),0!==a&&(t[a+1]=yi(t[a+1],r)),a=r;else t[r+1]=di(u,0),0===a?a=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=mi(t[r+1])),Xs(t,c,r,!0),Xs(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bn(s,e)>=0&&(n[r+1]=vi(n[r+1]))}(e,c,t,r,s),o=di(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function fo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=po(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function po(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function mo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];yo(1==(1&c)?go(u,e,n,i,gi(c),o):void 0)||(yo(s)||2==(2&c)&&(s=go(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Pt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ar.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Ar.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Lt(_e(),n),i,s))}function go(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===li&&(l=c?Ys:void 0);let h=c?vn(l,r):u===r?l:void 0;if(s&&!yo(h)&&(h=vn(e,r)),yo(h)&&(a=h,o))return a;const f=t[i+1];i=o?pi(f):gi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=vn(t,r))}return a}function yo(t){return void 0!==t}function vo(t,e){return 0!=(t.flags&(e?16:32))}function bo(t,e=""){const n=Wt(),r=Jt(),i=t+ht,s=r.firstCreatePass?wi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,o,s),Xt(s,!1)}function _o(t){return wo("",t,""),_o}function wo(t,e,n){const r=Wt(),i=function(t,e,n,r){return Ds(t,se(),n)?e+wt(n)+r:li}(r,t,e,n);return i!==li&&function(t,e,n){const r=Lt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,_e(),i),wo}function Eo(t,e,n){const r=Wt();return Ds(r,se(),e)&&Di(Jt(),Ee(),r,t,e,r[11],n,!0),Eo}function So(t,e,n){const r=Wt();if(Ds(r,se(),e)){const i=Jt(),s=Ee();Di(i,s,r,t,e,function(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(ce(i.data),s,r),n,!0)}return So}const Oo=void 0;var To=["en",[["a","p"],["AM","PM"],Oo],[["AM","PM"],Oo,Oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oo,"{1} 'at' {0}",Oo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Co={};function Io(t,e,n){"string"!=typeof e&&(n=e,e=t[No.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Co[e]=t,n&&(Co[e][No.ExtraData]=n)}function xo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ko(e);if(n)return n;const r=e.split("-")[0];if(n=ko(r),n)return n;if("en"===r)return To;throw new Error(`Missing locale data for the locale "${t}".`)}function Ao(t){return xo(t)[No.CurrencyCode]||null}function jo(t){return xo(t)[No.PluralCase]}function ko(t){return t in Co||(Co[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Co[t]}var No=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Po="en-US";let Do=Po;function Ro(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Do=t.toLowerCase().replace(/_/g,"-"))}function Lo(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lo(t[s],e,n,r,i);else{const s=Jt(),o=Wt();let a=_s(t)?t:w(t.provide),u=ys(t);const c=Zt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(_s(t)||!t.multi){const r=new je(u,i,Fs),d=Mo(a,e,i?l:l+f,h);-1===d?(Ge(He(c,o),s,a),Fo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Mo(a,e,l+f,h),p=Mo(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){Ge(He(c,o),s,a);const l=function(t,e,n,r,i){const s=new je(t,n,Fs);return s.multi=[],s.index=e,s.componentProviders=0,Vo(s,i,r&&!n),s}(i?qo:Uo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Fo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Fo(s,t,d>-1?d:p,Vo(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Fo(t,e,n,r){const i=_s(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Vo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uo(t,e,n,r){return Ho(this.multi,[])}function qo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ho(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ho(i,s);return s}function Ho(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function zo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Jt();if(r.firstCreatePass){const i=vt(t);Lo(n,r.data,r.blueprint,i,!0),Lo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Bo{}class $o{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Go=(()=>{class t{}return t.NULL=new $o,t})();function Ko(...t){}function Wo(t,e){return new Qo(Ft(t,e))}const Jo=function(){return Wo(Zt(),Wt())};let Qo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Jo,t})();class Zo{}let Yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xo(),t})();const Xo=function(){const t=Wt(),e=Mt(Zt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ta=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const na=new ea("11.0.5");class ra{constructor(){}supports(t){return Ns(t)}create(t){return new sa(t)}}const ia=(t,e)=>e;class sa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ia}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ca(n,r,i)?e:n,o=ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ns(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new oa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ua),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ua{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class la{constructor(){}supports(t){return t instanceof Map||Ps(t)}create(){return new ha}}class ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ps(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Sn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new ra])}),t})(),pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Sn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new la])}),t})();function ma(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Rt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ma(e[1],e,n,r)}const o=n.type;if(8&o)ma(t,e,n.child,r);else if(32&o){const t=jr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=kr(t);ma(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ga{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return ma(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mr(this._lView[1],this._lView)}onDestroy(t){Ni(this._lView[1],this._lView,null,t)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{Zi(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Jr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ya extends ga{constructor(t){super(t),this._view=t}detectChanges(){Yi(this._view)}checkNoChanges(){!function(t){re(!0);try{Yi(t)}finally{re(!1)}}(this._view)}get context(){return null}}const va=_a;let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t.__ChangeDetectorRef__=!0,t})();function _a(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Mt(t.index,e);return new ga(n,n)}return 47&t.type?new ga(e[16],e):null}(Zt(),Wt(),t)}const wa=[new la],Ea=new da([new ra]),Sa=new pa(wa),Oa=function(){return xa(Zt(),Wt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oa,t})();const Ca=Ta,Ia=class extends Ca{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=_i(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Si(e,n,t),new ga(n)}};function xa(t,e){return 4&t.type?new Ia(e,t,Wo(t,e)):null}class Aa{}class ja{}const ka=function(){return Fa(Zt(),Wt())};let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ka,t})();const Pa=Na,Da=class extends Pa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=$e(this._hostTNode,this._hostLView);if(Le(t)){const e=Ve(t,this._hostLView),n=Fe(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ra(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Aa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Da(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],mn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Kr(i,s),a=n[11],u=Br(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Jr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),mn(La(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ra(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);n&&(gn(La(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);return n&&null!=gn(La(this._lContainer),e)?new ga(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ra(t){return t[8]}function La(t){return t[8]||(t[8]=[])}function Fa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Ft(t,e);qr(n,Br(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Ji(e,n)}return new Da(n,t,e)}const Va={};class Ma extends Go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ha(e,this.ngModule)}}function Ua(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const qa=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class Ha extends Bo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ua(this.componentDef.inputs)}get outputs(){return Ua(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Va,i);return s!==Va||r===Va?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Zo,Dt),o=i.get(ta,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:ts,playerHandler:null,flags:0},f=ki(0,null,null,1,0,null,null,null,null,null),d=_i(null,f,h,l,null,null,s,a,o,i);let p,m;pe(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=wi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ss(a,u,!0),null!==t&&(ke(i,t,u),null!==a.classes&&Yr(i,t,a.classes),null!==a.styles&&Zr(i,t,a.styles)));const c=r.createRenderer(t,e),l=_i(n,ji(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Ge(He(a,n),o,e.type),Vi(o,a),Ui(a,n.length,1)),Ji(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)ke(a,c,["ng-version",na.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!si(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,c,t),e&&e.length>0&&Yr(a,c,e.join(" "))}if(m=Vt(f,ht),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qi(t,r,e,Ei(t,e,1,null),n));const i=tn(e,t,r.directiveStart,r);Cr(i,e);const s=Ft(r,e);return s&&Cr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Zt();e.contentQueries(1,o,t.directiveStart)}const a=Zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),Li(n[1],a,0,a.directiveStart,a.directiveEnd,e),Fi(e,o)),o}(t,this.componentDef,d,h,[Ss]),Si(f,d,null)}finally{be()}return new za(this.componentType,p,Wo(m,d),d,m)}}class za extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ya(r),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ba=new Map;class $a extends Aa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ma(this);const n=lt(t),r=t[Q]||null;r&&Ro(r),this._bootstrapComponents=xr(n.bootstrap),this._r3Injector=ps(t,e,[{provide:Aa,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Es.THROW_IF_NOT_FOUND,n=N.Default){return t===Es||t===Aa||t===os?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ga extends ja{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Ba.get(i),n),Ba.set(i,n));const s=xr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new $a(this.moduleType,t)}}function Ka(t,e,n,r){return Wa(Wt(),ie(),t,e,n,r)}function Wa(t,e,n,r,i,s){const o=e+n;return Ds(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===li?void 0:n}(t,o+1)}function Ja(t,e){const n=Jt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new _t("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=D(Fs);try{const t=Ue(!1),e=s();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{D(o)}}function Qa(t,e,n){const r=t+ht,i=Wt(),s=function(t,e){return t[e]}(i,r);return function(t,e){return ks.isWrapped(e)&&(e=ks.unwrap(e),t[Gt.lFrame.bindingIndex]=li),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Wa(i,ie(),e,s.transform,n,s):s.transform(n))}const Za=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Ya(){return this._results[js()]()}class Xa{constructor(){this.dirty=!0,this._results=[],this.changes=new Za,this.length=0;const t=js(),e=Xa.prototype;e[t]||(e[t]=Ya)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=dn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class tu{constructor(t){this.queryList=t,this.matches=null}clone(){return new tu(this.queryList)}setDirty(){this.queryList.setDirty()}}class eu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new eu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==fu(t,e).matches&&this.queries[e].setDirty()}}class nu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ru{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ru(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class iu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new iu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,su(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===Ta?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Qo||r===Na||r===Ta&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function su(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ou(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Wo(t,e):4&t.type?xa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Qo?Wo(e,t):n===Ta?xa(e,t):n===Na?Fa(e,t):void 0}(t,e,r):tn(t,t[1],n,e)}function au(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:ou(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function uu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=au(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&uu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];uu(n[1],n,i,r)}}}}}return r}function cu(t){const e=Wt(),n=Jt(),r=le();he(r+1);const i=fu(n,r);if(t.dirty&&qt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?uu(n,e,r,[]):au(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function lu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ru),t.queries.track(new iu(e,n))}(t,new nu(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Xa;Ni(t,e,n,n.destroy),null===e[19]&&(e[19]=new eu),e[19].queries.push(new tu(n))}(t,e)}(Jt(),Wt(),e,n,r,0,Zt(),t)}function hu(){return t=Wt(),e=le(),t[19].queries[e].queryList;var t,e}function fu(t,e){return t.queries.getByIndex(e)}function du(t=N.Default){const e=_a(!0);if(null!=e||t&N.Optional)return e;St("ChangeDetectorRef")}const pu=new ln("Application Initializer");let mu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ko,this.reject=Ko,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Gs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Nn(pu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const gu=new ln("AppId"),yu={provide:gu,useFactory:function(){return`${vu()}${vu()}${vu()}`},deps:[]};function vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bu=new ln("Platform Initializer"),_u=new ln("Platform ID"),wu=new ln("appBootstrapListener");let Eu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Su=new ln("LocaleId"),Ou=new ln("DefaultCurrencyCode");class Tu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Cu=function(t){return new Ga(t)},Iu=Cu,xu=function(t){return Promise.resolve(Cu(t))},Au=function(t){const e=Cu(t),n=xr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ha(n)),t},[]);return new Tu(e,n)},ju=Au,ku=function(t){return Promise.resolve(Au(t))};let Nu=(()=>{class t{constructor(){this.compileModuleSync=Iu,this.compileModuleAsync=xu,this.compileModuleAndAllComponentsSync=ju,this.compileModuleAndAllComponentsAsync=ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Pu=(()=>Promise.resolve(0))();function Du(t){"undefined"==typeof Zone?Pu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ru{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Za(!1),this.onMicrotaskEmpty=new Za(!1),this.onStable=new Za(!1),this.onError=new Za(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vu(t),Fu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Mu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Uu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Mu(t),e.invoke(r,i,s,o,a)}finally{Uu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Vu(t),Fu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ru.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ru.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Lu,Ko,Ko);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Lu={};function Fu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Mu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uu(t){t._nesting--,Fu(t)}class qu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Za,this.onMicrotaskEmpty=new Za,this.onStable=new Za,this.onError=new Za}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Hu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ru.assertNotInAngularZone(),Du(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Du(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Nn(Ru))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),zu=(()=>{class t{constructor(){this._applications=new Map,Ku.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ku.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Bu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function $u(t){Ku=t}let Gu,Ku=new Bu,Wu=!0,Ju=!1;function Qu(){return Ju=!0,Wu}function Zu(){if(Ju)throw new Error("Cannot enable prod mode after platform setup.");Wu=!1}const Yu=new ln("AllowMultipleToken");class Xu{constructor(t,e){this.name=t,this.token=e}}function tc(t,e,n=[]){const r="Platform: "+e,i=new ln(r);return(e=[])=>{let s=ec();if(!s||s.injector.get(Yu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:us,useValue:"platform"});!function(t){if(Gu&&!Gu.destroyed&&!Gu.injector.get(Yu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Gu=t.get(nc);const e=t.get(bu,null);e&&e.forEach(t=>t())}(Es.create({providers:t,name:r}))}return function(t){const e=ec();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ec(){return Gu&&!Gu.destroyed?Gu:null}let nc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new qu:("zone.js"===t?void 0:t)||new Ru({enableLongStackTrace:Qu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ru,useValue:n}];return n.run(()=>{const e=Es.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{sc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Gs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(mu);return t.runInitializers(),t.donePromise.then(()=>(Ro(i.injector.get(Su,Po)||Po),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=rc({},e);return function(t,e,n){const r=new Ga(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ic);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Nn(Es))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function rc(t,e){return Array.isArray(e)?e.reduce(rc,t):Object.assign(Object.assign({},t),e)}let ic=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ru.assertNotInAngularZone(),Du(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Bo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Aa),i=n.create(Es.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Hu,null),a=o&&i.injector.get(zu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),sc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),Qu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;sc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(wu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Nn(Ru),Nn(Eu),Nn(Es),Nn(Tr),Nn(Go),Nn(mu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function sc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class oc{}class ac{}const uc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||uc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>lc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>lc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Nn(Nu),Nn(ac,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function lc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const hc=function(t){return null},fc=tc(null,"core",[{provide:_u,useValue:"unknown"},{provide:nc,deps:[Es]},{provide:zu,deps:[]},{provide:Eu,deps:[]}]),dc=[{provide:ic,useClass:ic,deps:[Ru,Eu,Es,Tr,Go,mu]},{provide:qa,deps:[Ru],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:mu,useClass:mu,deps:[[new wn,pu]]},{provide:Nu,useClass:Nu,deps:[]},yu,{provide:da,useFactory:function(){return Ea},deps:[]},{provide:pa,useFactory:function(){return Sa},deps:[]},{provide:Su,useFactory:function(t){return Ro(t=t||"undefined"!=typeof $localize&&$localize.locale||Po),t},deps:[[new _n(Su),new wn,new Sn]]},{provide:Ou,useValue:"USD"}];let pc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(Nn(ic))},providers:dc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return m});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class m extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),m=d.next();!m.done;m=d.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBet6sTcNVIqIU2OZBR66wBwlp_ZdGp7DE",authDomain:"angular-employees-c2ffe.firebaseapp.com",projectId:"angular-employees-c2ffe",storageBucket:"angular-employees-c2ffe.appspot.com",messagingSenderId:"344082391380",appId:"1:344082391380:web:7972bd7883f50aa71a28c1"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(a).location;return new _(Object(r.Sb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(y),r.Sb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Fb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Sb)(y),Object(r.Sb)(u))}function O(t){return t.replace(/\/index.html$/,"")}const T={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var C=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.Z.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.Z.NumberSymbols][x.Group]}return i}const j=r.lb,k=/^(\d+)?\.((\d+)(-(\d+))?)?$/,N=".",P="0";function D(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let L=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class F{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new F(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new M(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new M(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class M{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class q{constructor(){this.$implicit=null,this.ngIf=null}}function H(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let z=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.ib)(t)[r.Z.Currencies]}(n)[t]||T[t]||[],s=i[1];return"narrow"===e&&"string"==typeof s?s:i[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return function(t,e,n,i,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(N)?i.split(N):[i.substring(0,i.lastIndexOf(P)+1),i.substring(i.lastIndexOf(P)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===P?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.ib)(t)[r.Z.NumberFormats][e]}(e,C.Currency),A(e,x.MinusSign));return o.minFrac=function(t){let e;const n=T[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(N))>-1&&(o=o.replace(N,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===P;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===P;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(k);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=D(e)),null!=n&&(h=D(n)),null!=r?f=D(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?g=d.splice(p,d.length):(g=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(A(n,r)),g.length&&(a+=A(n,i)+g.join("")),m&&(a+=A(n,x.Exponential)+"+"+m)}else a=A(n,x.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,x.CurrencyGroup,x.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),o,a,n,s)}catch(u){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u),r.Jb(r.k))},t.\u0275pipe=r.Ib({name:"currency",type:t,pure:!0}),t})(),B=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:R,useClass:L}]}),t})();function $(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new K(Object(r.Sb)(a),window,Object(r.Sb)(r.m))}),t})();class K{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function W(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class J extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new J,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Z||(Z=document.querySelector("base"),Z)?Z.getAttribute("href"):null;return null==e?null:(n=e,Q||(Q=document.createElement("a")),Q.setAttribute("href",n),"/"===Q.pathname.charAt(0)?Q.pathname:"/"+Q.pathname);var n}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Q,Z=null;const Y=new r.q("TRANSITION_ID"),X=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,a,r.r],multi:!0}];class tt{static init(){Object(r.W)(new tt)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const et=new r.q("EventManagerPlugins");let nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(et),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let it=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t extends it{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ct(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(nt),r.Sb(st),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ct(n)):this.eventManager.addEventListener(t,e,ct(n))}}class ft extends ht{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(at,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(at,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dt extends ht{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ut(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pt=(()=>{class t extends rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const mt=["alt","control","meta","shift"],gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bt=(()=>{class t extends rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(mt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return gt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),mt.forEach(r=>{r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return Object(r.Sb)(wt)},token:t,providedIn:"root"}),t})(),wt=(()=>{class t extends _t{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return t=Object(r.Sb)(r.o),new wt(t.get(a));var t},token:t,providedIn:"root"}),t})();const Et=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){J.makeCurrent(),tt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],St=Object(r.R)(r.V,"browser",Et),Ot=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:pt,multi:!0,deps:[a,r.z,r.B]},{provide:et,useClass:bt,multi:!0,deps:[a]},[],{provide:lt,useClass:lt,deps:[nt,st,r.c]},{provide:r.E,useExisting:lt},{provide:it,useExisting:st},{provide:st,useClass:st,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:nt,useClass:nt,deps:[et,r.z]},[]];let Tt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},X]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:Ot,imports:[B,r.f]}),t})();"undefined"!=typeof window&&window;var Ct=n("LRne"),It=n("Cfvw"),xt=n("XNiG"),At=n("9ppp");class jt extends xt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At.a;return this._value}next(t){super.next(this._value=t)}}var kt=n("z+Ro"),Nt=n("DH7j"),Pt=n("7o/Q");class Dt extends Pt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Rt extends Pt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Lt=n("SeVD"),Ft=n("HDdC");function Vt(t,e,n,r,i=new Rt(t,n,r)){if(!i.closed)return e instanceof Ft.a?e.subscribe(i):Object(Lt.a)(e)(i)}var Mt=n("yCtX");const Ut={};class qt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ht(t,this.resultSelector))}}class Ht extends Dt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ut),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Vt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ut?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const zt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Bt=n("EY2u");function $t(t){return new Ft.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(It.a)(n):Object(Bt.b)()).subscribe(e)})}var Gt=n("lJxs"),Kt=n("bHdf");function Wt(){return Object(Kt.a)(1)}function Jt(t,e){return function(n){return n.lift(new Qt(t,e))}}class Qt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Zt(t,this.predicate,this.thisArg))}}class Zt extends Pt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Xt(t){return function(e){return 0===t?Object(Bt.b)():e.lift(new te(t))}}class te{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new ee(t,this.total))}}class ee extends Pt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ne(t=se){return e=>e.lift(new re(t))}class re{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ie(t,this.errorFactory))}}class ie extends Pt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(tb){t=tb}this.destination.error(t)}}}function se(){return new zt}function oe(t=null){return e=>e.lift(new ae(t))}class ae{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ue(t,this.defaultValue))}}class ue extends Pt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ce=n("SpAZ"),le=n("zx2A");function he(t,e){return"function"==typeof e?n=>n.pipe(he((n,r)=>Object(It.a)(t(n,r)).pipe(Object(Gt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new fe(t))}class fe{constructor(t){this.project=t}call(t,e){return e.subscribe(new de(t,this.project))}}class de extends le.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new le.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(le.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function pe(t){return e=>0===t?Object(Bt.b)():e.lift(new me(t))}class me{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new ge(t,this.total))}}class ge extends Pt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ye(...t){return Wt()(Object(Ct.a)(...t))}function ve(...t){const e=t[t.length-1];return Object(kt.a)(e)?(t.pop(),n=>ye(t,n,e)):e=>ye(t,e)}function be(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _e(t,e,n))}}class _e{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new we(t,this.accumulator,this.seed,this.hasSeed))}}class we extends Pt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ee(t){return function(e){const n=new Se(t),r=e.lift(n);return n.caught=r}}class Se{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Oe(t,this.selector,this.caught))}}class Oe extends le.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new le.a(this);this.add(r);const i=Object(le.c)(n,r);i!==r&&this.add(i)}}}var Te=n("5+tZ");function Ce(t,e){return Object(Te.a)(t,e,1)}function Ie(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):ce.a,pe(1),n?oe(e):ne(()=>new zt))}var xe=n("vkgz"),Ae=n("quSY");class je{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ke(t,this.callback))}}class ke extends Pt.a{constructor(t,e){super(t),this.add(new Ae.a(e))}}class Ne{constructor(t,e){this.id=t,this.url=e}}class Pe extends Ne{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class De extends Ne{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Re extends Ne{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Le extends Ne{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fe extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Ne{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ue extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Be{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Je="primary";class Qe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ze(t){return new Qe(t)}function Ye(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Xe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!en(t[i],e[i]))return!1;return!0}function en(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function nn(t){return Array.prototype.concat.apply([],t)}function rn(t){return t.length>0?t[t.length-1]:null}function sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function on(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(It.a)(Promise.resolve(t)):Object(Ct.a)(t)}function an(t,e,n){return n?function(t,e){return tn(t,e)}(t.queryParams,e.queryParams)&&un(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>en(t[n],e[n]))}(t.queryParams,e.queryParams)&&cn(t.root,e.root)}function un(t,e){if(!pn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!un(t.children[n],e.children[n]))return!1}return!0}function cn(t,e){return ln(t,e,e.segments)}function ln(t,e,n){if(t.segments.length>n.length)return!!pn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!pn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!cn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!pn(t.segments,r)&&!!t.children.primary&&ln(t.children.primary,e,i)}}class hn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return vn.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bn(this)}}class dn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ze(this.parameters)),this._parameterMap}toString(){return Cn(this)}}function pn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function mn(t,e){let n=[];return sn(t.children,(t,r)=>{r===Je&&(n=n.concat(e(t,r)))}),sn(t.children,(t,r)=>{r!==Je&&(n=n.concat(e(t,r)))}),n}class gn{}class yn{parse(t){const e=new kn(t);return new hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+_n(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${En(e)}=${En(t)}`).join("&"):`${En(e)}=${En(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const vn=new yn;function bn(t){return t.segments.map(t=>Cn(t)).join("/")}function _n(t,e){if(!t.hasChildren())return bn(t);if(e){const e=t.children.primary?_n(t.children.primary,!1):"",n=[];return sn(t.children,(t,e)=>{e!==Je&&n.push(`${e}:${_n(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=mn(t,(e,n)=>n===Je?[_n(t.children.primary,!1)]:[`${n}:${_n(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${bn(t)}/${e[0]}`:`${bn(t)}/(${e.join("//")})`}}function wn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function En(t){return wn(t).replace(/%3B/gi,";")}function Sn(t){return wn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function On(t){return decodeURIComponent(t)}function Tn(t){return On(t.replace(/\+/g,"%20"))}function Cn(t){return`${Sn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Sn(t)}=${Sn(e[t])}`).join("")}`;var e}const In=/^[^\/()?;=#]+/;function xn(t){const e=t.match(In);return e?e[0]:""}const An=/^[^=?&#]+/,jn=/^[^?&#]+/;class kn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new fn(t,e)),n}parseSegment(){const t=xn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dn(On(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=xn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=xn(this.remaining);t&&(n=t,this.capture(n))}t[On(e)]=On(n)}parseQueryParam(t){const e=function(t){const e=t.match(An);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(jn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Tn(e),i=Tn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=xn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Je);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new fn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Nn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Pn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Dn(t,this._root).map(t=>t.value)}}function Pn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Pn(t,n);if(e)return e}return null}function Dn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Dn(t,n);if(r.length)return r.unshift(e),r}return[]}class Rn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ln(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Fn extends Nn{constructor(t,e){super(t),this.snapshot=e,zn(this,t)}toString(){return this.snapshot.toString()}}function Vn(t,e){const n=function(t,e){const n=new qn([],{},{},"",{},Je,e,null,t.root,-1,{});return new Hn("",new Rn(n,[]))}(t,e),r=new jt([new dn("",{})]),i=new jt({}),s=new jt({}),o=new jt({}),a=new jt(""),u=new Mn(r,i,o,a,s,Je,e,n.root);return u.snapshot=n.root,new Fn(new Rn(u,[]),n)}class Mn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Gt.a)(t=>Ze(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Gt.a)(t=>Ze(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Un(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ze(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hn extends Nn{constructor(t,e){super(e),this.url=t,zn(this,e)}toString(){return Bn(this._root)}}function zn(t,e){e.value._routerState=t,e.children.forEach(e=>zn(t,e))}function Bn(t){const e=t.children.length>0?` { ${t.children.map(Bn).join(", ")} } `:"";return`${t.value}${e}`}function $n(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),tn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),tn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gn(t,e){return tn(t.params,e.params)&&function(t,e){return pn(t,e)&&t.every((t,n)=>tn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Gn(t.parent,e.parent))}function Kn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Kn(t,e,r);return Kn(t,e)})}(t,e,n);return new Rn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Wn(e,t),t}{const n=new Mn(new jt((r=e.value).url),new jt(r.params),new jt(r.queryParams),new jt(r.fragment),new jt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Kn(t,e));return new Rn(n,i)}}var r}function Wn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Wn(t.children[n],e.children[n])}function Jn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qn(t){return"object"==typeof t&&null!=t&&t.outlets}function Zn(t,e,n,r,i){let s={};return r&&sn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new hn(n.root===t?e:Yn(n.root,t,e),s,i)}function Yn(t,e,n){const r={};return sn(t.children,(t,i)=>{r[i]=t===e?n:Yn(t,e,n)}),new fn(t.segments,r)}class Xn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Jn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Qn);if(r&&r!==rn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function er(t,e,n){if(t||(t=new fn([],{})),0===t.segments.length&&t.hasChildren())return nr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Qn(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!or(a,u,e))return s;r+=2}else{if(!or(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new fn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new fn(t.segments.slice(r.pathIndex),t.children),nr(e,0,i)}return r.match&&0===i.length?new fn(t.segments,{}):r.match&&!t.hasChildren()?rr(t,e,n):r.match?nr(t,0,i):rr(t,e,n)}function nr(t,e,n){if(0===n.length)return new fn(t.segments,{});{const r=function(t){return Qn(t[0])?t[0].outlets:{[Je]:t}}(n),i={};return sn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=er(t.children[r],e,n))}),sn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new fn(t.segments,i)}}function rr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Qn(s)){const t=ir(s.outlets);return new fn(r,t)}if(0===i&&Jn(n[0])){r.push(new dn(t.segments[e].path,n[0])),i++;continue}const o=Qn(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Jn(a)?(r.push(new dn(o,sr(a))),i+=2):(r.push(new dn(o,{})),i++)}return new fn(r,{})}function ir(t){const e={};return sn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=rr(new fn([],{}),0,t))}),e}function sr(t){const e={};return sn(t,(t,n)=>e[n]=""+t),e}function or(t,e,n){return t==n.path&&tn(e,n.parameters)}class ar{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),$n(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ln(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),sn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Ln(t),i=t.value.component?n.children:e;sn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Ln(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ke(t.value.snapshot))}),t.children.length&&this.forwardEvent(new $e(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if($n(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ur(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ur(t){$n(t.value),t.children.forEach(ur)}class cr{constructor(t,e){this.routes=t,this.module=e}}function lr(t){return"function"==typeof t}function hr(t){return t instanceof hn}const fr=Symbol("INITIAL_VALUE");function dr(){return he(t=>function(...t){let e=void 0,n=void 0;return Object(kt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Nt.a)(t[0])&&(t=t[0]),Object(Mt.a)(t,n).lift(new qt(e))}(...t.map(t=>t.pipe(pe(1),ve(fr)))).pipe(be((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==fr)return t;if(r===fr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||hr(r))return r}return t},t)},fr),Jt(t=>t!==fr),Object(Gt.a)(t=>hr(t)?t:!0===t),pe(1)))}let pr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[ai]},encapsulation:2}),t})();function mr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];gr(r,yr(e,r))}}function gr(t,e){t.children&&mr(t.children,e)}function yr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function vr(t){const e=t.children&&t.children.map(vr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=pr),n}function br(t){return t.outlet||Je}class _r{constructor(t){this.segmentGroup=t||null}}class wr{constructor(t){this.urlTree=t}}function Er(t){return new Ft.a(e=>e.error(new _r(t)))}function Sr(t){return new Ft.a(e=>e.error(new wr(t)))}function Or(t){return new Ft.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Tr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Je).pipe(Object(Gt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ee(t=>{if(t instanceof wr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _r)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Je).pipe(Object(Gt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ee(t=>{if(t instanceof _r)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new fn([],{[Je]:t}):t;return new hn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Gt.a)(t=>new fn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ct.a)({});const n=[],r=[],i={};return sn(t,(t,s)=>{const o=e(s,t).pipe(Object(Gt.a)(t=>i[s]=t));s===Je?n.push(o):r.push(o)}),Ct.a.apply(null,n.concat(r)).pipe(Wt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):ce.a,Xt(1),n?oe(e):ne(()=>new zt))}(),Object(Gt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=br(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(It.a)(n).pipe(Ce(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Ee(t=>{if(t instanceof _r)return Object(Ct.a)(null);throw t}))),Ie(t=>null!==t),Ee(t=>{if(t instanceof zt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ct.a)(new fn([],{}));throw new _r(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Gt.a)(()=>null),Ee(()=>Object(Ct.a)(null)))});return Object(It.a)(u).pipe(t=>t.lift(new qt(void 0)),Ie(),Object(Gt.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return br(r)!==s&&""!==r.path?Er(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Er(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Sr(i):this.lineralizeSegments(n,i).pipe(Object(Te.a)(n=>{const i=new fn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Cr(e,r,i);if(!o)return Er(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Sr(l):this.lineralizeSegments(r,l).pipe(Object(Te.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Gt.a)(t=>(n._loadedConfig=t,new fn(r,{})))):Object(Ct.a)(new fn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Cr(e,n,r);if(!i)return Er(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Te.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>xr(t,e,n)&&br(n)!==Je)}(t,n,r)?{segmentGroup:Ir(new fn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&br(r)!==Je&&(n[br(r)]=new fn([],{}));return n}(r,new fn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>xr(t,e,n))}(t,n,r)?{segmentGroup:Ir(new fn(t.segments,function(t,e,n,r){const i={};for(const s of n)xr(t,e,s)&&!r[br(s)]&&(i[br(s)]=new fn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Gt.a)(t=>new fn(s,t))):0===r.length&&0===o.length?Object(Ct.a)(new fn(s,{})):this.expandSegment(n,i,r,o,Je,!0).pipe(Object(Gt.a)(t=>new fn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ct.a)(new cr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ct.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Te.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Gt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ft.a(e=>e.error(Ye(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ct.a)(new cr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&lr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!lr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return on(s)});return Object(Ct.a)(i).pipe(dr(),Object(xe.a)(t=>{if(!hr(t))return;const e=Ye(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Gt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ct.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Or(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new hn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return sn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return sn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new fn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Cr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Xe)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ir(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new fn(t.segments.concat(e.segments),e.children)}return t}function xr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Ar{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jr{constructor(t,e){this.component=t,this.route=e}}function kr(t,e,n){const r=t._root;return Pr(r,e?e._root:null,n,[r.value])}function Nr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Pr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ln(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pn(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gn(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ar(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Pr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jr(a.outlet.component,o))}else o&&Dr(e,a,i),i.canActivateChecks.push(new Ar(r)),Pr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),sn(s,(t,e)=>Dr(t,n.getContext(e),i)),i}function Dr(t,e,n){const r=Ln(t),i=t.value;sn(r,(t,r)=>{Dr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new jr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Rr(t,e){return null!==t&&e&&e(new Ge(t)),Object(Ct.a)(!0)}function Lr(t,e){return null!==t&&e&&e(new Be(t)),Object(Ct.a)(!0)}function Fr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>$t(()=>{const i=Nr(r,e,n);let s;if(function(t){return t&&lr(t.canActivate)}(i))s=on(i.canActivate(e,t));else{if(!lr(i))throw new Error("Invalid CanActivate guard");s=on(i(e,t))}return s.pipe(Ie())}));return Object(Ct.a)(i).pipe(dr())}function Vr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$t(()=>{const i=e.guards.map(i=>{const s=Nr(i,e.node,n);let o;if(function(t){return t&&lr(t.canActivateChild)}(s))o=on(s.canActivateChild(r,t));else{if(!lr(s))throw new Error("Invalid CanActivateChild guard");o=on(s(r,t))}return o.pipe(Ie())});return Object(Ct.a)(i).pipe(dr())}));return Object(Ct.a)(i).pipe(dr())}class Mr{}class Ur{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=zr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Je),n=new qn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Je,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Rn(n,e),i=new Hn(this.url,r);return this.inheritParamsAndData(i._root),Object(Ct.a)(i)}catch(tb){return new Ft.a(e=>e.error(tb))}}inheritParamsAndData(t){const e=t.value,n=Un(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=mn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Je?-1:e.value.outlet===Je?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(tb){if(!(tb instanceof Mr))throw tb}if(this.noLeftoversInUrl(e,n,r))return[];throw new Mr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Mr;if((t.outlet||Je)!==r)throw new Mr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?rn(n).parameters:{};i=new qn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(t),r,t.component,t,qr(e),Hr(e)+n.length,Gr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Mr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Xe)(n,t,e);if(!r)throw new Mr;const i={};sn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new qn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(t),r,t.component,t,qr(e),Hr(e)+s.length,Gr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=zr(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Rn(i,t)]}if(0===a.length&&0===c.length)return[new Rn(i,[])];const l=this.processSegment(a,u,c,Je);return[new Rn(i,l)]}}function qr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function zr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Br(t,e,n)&&br(n)!==Je)}(t,n,r)){const i=new fn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&br(s)!==Je){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[br(s)]=n}return i}(t,e,r,new fn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Br(t,e,n))}(t,n,r)){const s=new fn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Br(t,n,a)&&!i[br(a)]){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[br(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new fn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Br(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $r(t){return t.data||{}}function Gr(t){return t.resolve||{}}function Kr(t){return function(e){return e.pipe(he(e=>{const n=t(e);return n?Object(It.a)(n).pipe(Object(Gt.a)(()=>e)):Object(It.a)([e])}))}}class Wr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Jr=new r.q("ROUTES");class Qr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Gt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new cr(nn(r.injector.get(Jr)).map(vr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(It.a)(this.loader.load(t)):on(t()).pipe(Object(Te.a)(t=>t instanceof r.v?Object(Ct.a)(t):Object(It.a)(this.compiler.compileModuleAsync(t))))}}class Zr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yr,this.attachRef=null}}class Yr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Zr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Xr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ti(t){throw t}function ei(t,e,n){return e.parse("/")}function ni(t,e){return Object(Ct.a)(null)}let ri=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new xt.a,this.errorHandler=ti,this.malformedUriErrorHandler=ei,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ni,afterPreactivation:ni},this.urlHandlingStrategy=new Xr,this.routeReuseStrategy=new Wr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new hn(new fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qr(o,a,t=>this.triggerEvent(new He(t)),t=>this.triggerEvent(new ze(t))),this.routerState=Vn(this.currentUrlTree,this.rootComponentType),this.transitions=new jt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jt(t=>0!==t.id),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),he(t=>{let n=!1,r=!1;return Object(Ct.a)(t).pipe(Object(xe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),he(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ct.a)(t).pipe(he(t=>{const n=this.transitions.getValue();return e.next(new Pe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Bt.a:[t]}),he(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(he(t=>function(t,e,n,r,i){return new Tr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Gt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(xe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Te.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Ur(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Gt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(xe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(xe.a)(t=>{const n=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Pe(n,this.serializeUrl(r),i,s);e.next(a);const u=Vn(r,this.rootComponentType).snapshot;return Object(Ct.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bt.a}),Kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(xe.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{guards:kr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Te.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ct.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(It.a)(t).pipe(Object(Te.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ct.a)(!0);const o=s.map(s=>{const o=Nr(s,e,i);let a;if(function(t){return t&&lr(t.canDeactivate)}(o))a=on(o.canDeactivate(t,e,n,r));else{if(!lr(o))throw new Error("Invalid CanDeactivate guard");a=on(o(t,e,n,r))}return a.pipe(Ie())});return Object(Ct.a)(o).pipe(dr())}(t.component,t.route,n,e,r)),Ie(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Te.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(It.a)(e).pipe(Ce(e=>Object(It.a)([Lr(e.route.parent,r),Rr(e.route,r),Vr(t,e.path,n),Fr(t,e.route,n)]).pipe(Wt(),Ie(t=>!0!==t,!0))),Ie(t=>!0!==t,!0))}(r,s,t,e):Object(Ct.a)(n)),Object(Gt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(xe.a)(t=>{if(hr(t.guardsResult)){const e=Ye(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(xe.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Kr(t=>{if(t.guards.canActivateChecks.length)return Object(Ct.a)(t).pipe(Object(xe.a)(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),he(t=>{let n=!1;return Object(Ct.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Te.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ct.a)(t);let s=0;return Object(It.a)(n).pipe(Ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ct.a)({});const s={};return Object(It.a)(i).pipe(Object(Te.a)(i=>function(t,e,n,r){const i=Nr(t,e,r);return on(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(xe.a)(t=>{s[i]=t}))),Xt(1),Object(Te.a)(()=>Object.keys(s).length===i.length?Object(Ct.a)(s):Bt.a))}(t._resolve,t,e,r).pipe(Object(Gt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Un(t,n).resolve),null)))}(t.route,e,r,i)),Object(xe.a)(()=>s++),Xt(1),Object(Te.a)(e=>s===n.length?Object(Ct.a)(t):Bt.a))}))}),Object(xe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(xe.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Gt.a)(t=>{const e=function(t,e,n){const r=Kn(t,e._root,n?n._root:void 0);return new Fn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(xe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Gt.a)(t=>(new ar(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(xe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new je(i))),Ee(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=hr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Re(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Le(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(wl){t.reject(wl)}}var i;return Bt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){mr(t),this.config=t.map(vr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Zn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return sn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Xn(n,e,r)}(n);if(s.toRoot())return Zn(e.root,new fn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new tr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new tr(t,t===e.root,0)}const r=Jn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new tr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?nr(o.segmentGroup,o.index,s.commands):er(o.segmentGroup,o.index,s.commands);return Zn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=hr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(tb){e=this.malformedUriErrorHandler(tb,this.urlSerializer,t)}return e}isActive(t,e){if(hr(t))return an(this.currentUrlTree,t,e);const n=this.parseUrl(t);return an(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.M),r.Sb(gn),r.Sb(Yr),r.Sb(E),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),ii=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new xt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:oi(this.skipLocationChange),replaceUrl:oi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ri),r.Jb(Mn),r.Tb("tabindex"),r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),si=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new xt.a,this.subscription=t.events.subscribe(t=>{t instanceof De&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:oi(this.skipLocationChange),replaceUrl:oi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ri),r.Jb(Mn),r.Jb(y))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Rb("href",e.href,r.fc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function oi(t){return""===t||!!t}let ai=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Je,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ui(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Yr),r.Jb(r.P),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ui{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Mn?this.route:t===Yr?this.childContexts:this.parent.get(t,e)}}class ci{}class li{preload(t,e){return Object(Ct.a)(null)}}let hi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Qr(e,n,e=>t.triggerEvent(new He(e)),e=>t.triggerEvent(new ze(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(t=>t instanceof De),Ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(It.a)(n).pipe(Object(Kt.a)(),Object(Gt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Te.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ri),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(ci))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),fi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof De&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof We&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new We(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ri),r.Sb(G),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const di=new r.q("ROUTER_CONFIGURATION"),pi=new r.q("ROUTER_FORROOT_GUARD"),mi=[E,{provide:gn,useClass:yn},{provide:ri,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new ri(null,t,e,n,r,i,s,nn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[gn,Yr,E,r.r,r.w,r.i,Jr,di,[class{},new r.A],[class{},new r.A]]},Yr,{provide:Mn,useFactory:function(t){return t.routerState.root},deps:[ri]},{provide:r.w,useClass:r.J},hi,li,class{preload(t,e){return e().pipe(Ee(()=>Object(Ct.a)(null)))}},{provide:di,useValue:{enableTracing:!1}}];function gi(){return new r.y("Router",ri)}let yi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[mi,wi(e),{provide:pi,useFactory:_i,deps:[[ri,new r.A,new r.I]]},{provide:di,useValue:n||{}},{provide:y,useFactory:bi,deps:[u,[new r.p(b),new r.A],di]},{provide:fi,useFactory:vi,deps:[ri,G,di]},{provide:ci,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:li},{provide:r.y,multi:!0,useFactory:gi},[Ei,{provide:r.d,multi:!0,useFactory:Si,deps:[Ei]},{provide:Ti,useFactory:Oi,deps:[Ei]},{provide:r.b,multi:!0,useExisting:Ti}]]}}static forChild(e){return{ngModule:t,providers:[wi(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(pi,8),r.Sb(ri,8))}}),t})();function vi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new fi(t,e,n)}function bi(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function _i(t){return"guarded"}function wi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Jr,multi:!0,useValue:t}]}let Ei=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new xt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ri),r=this.injector.get(di);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ct.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(di),n=this.injector.get(hi),i=this.injector.get(fi),s=this.injector.get(ri),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function Si(t){return t.appInitializer.bind(t)}function Oi(t){return t.bootstrapListener.bind(t)}const Ti=new r.q("Router Initializer");var Ci=n("D0XW");function Ii(){return t=>t.lift(new xi)}class xi{call(t,e){return e.subscribe(new Ai(t))}}class Ai extends Pt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ji{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ki(t,this.compare,this.keySelector))}}class ki extends Pt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ni=n("pxpQ"),Pi=n("spgP"),Di=n("Jgta"),Ri=n("zIRd"),Li=n("q/0M"),Fi=n("qOnz"),Vi=function(t,e){return(Vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Mi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ui,qi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Hi=Hi||{},zi=qi||self;function Bi(){}function $i(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ki="closure_uid_"+(1e9*Math.random()>>>0),Wi=0;function Ji(t,e,n){return t.call.apply(t.bind,arguments)}function Qi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Zi(t,e,n){return(Zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ji:Qi).apply(null,arguments)}function Yi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Xi(){return Date.now()}function ts(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function es(){this.j=this.j,this.i=this.i}es.prototype.j=!1,es.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ki)&&t[Ki]||(t[Ki]=++Wi)}(this)},es.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ns=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function is(t){return Array.prototype.concat.apply([],arguments)}function ss(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function os(t){return/^[\s\xa0]*$/.test(t)}var as,us=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cs(t,e){return-1!=t.indexOf(e)}function ls(t,e){return t<e?-1:t>e?1:0}t:{var hs=zi.navigator;if(hs){var fs=hs.userAgent;if(fs){as=fs;break t}}as=""}function ds(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ps(t){var e={};for(var n in t)e[n]=t[n];return e}var ms="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ms.length;s++)n=ms[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ys(t){return ys[" "](t),t}ys[" "]=Bi;var vs,bs,_s=cs(as,"Opera"),ws=cs(as,"Trident")||cs(as,"MSIE"),Es=cs(as,"Edge"),Ss=Es||ws,Os=cs(as,"Gecko")&&!(cs(as.toLowerCase(),"webkit")&&!cs(as,"Edge"))&&!(cs(as,"Trident")||cs(as,"MSIE"))&&!cs(as,"Edge"),Ts=cs(as.toLowerCase(),"webkit")&&!cs(as,"Edge");function Cs(){var t=zi.document;return t?t.documentMode:void 0}t:{var Is="",xs=(bs=as,Os?/rv:([^\);]+)(\)|;)/.exec(bs):Es?/Edge\/([\d\.]+)/.exec(bs):ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(bs):Ts?/WebKit\/(\S+)/.exec(bs):_s?/(?:Version)[ \/]?(\S+)/.exec(bs):void 0);if(xs&&(Is=xs?xs[1]:""),ws){var As=Cs();if(null!=As&&As>parseFloat(Is)){vs=String(As);break t}}vs=Is}var js={};function ks(t){return function(t,e){var n=js;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=us(String(vs)).split("."),r=us(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ls(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ls(0==o[2].length,0==a[2].length)||ls(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Ns=zi.document&&ws&&(Cs()||parseInt(vs,10))||void 0,Ps=!ws||9<=Number(Ns),Ds=ws&&!ks("9"),Rs=function(){if(!zi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{zi.addEventListener("test",Bi,e),zi.removeEventListener("test",Bi,e)}catch(n){}return t}();function Ls(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Fs(t,e){if(Ls.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Os){t:{try{ys(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ls.prototype.b=function(){this.defaultPrevented=!0},ts(Fs,Ls);var Vs={2:"touch",3:"pen",4:"mouse"};Fs.prototype.b=function(){Fs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ds)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ms="closure_listenable_"+(1e6*Math.random()|0),Us=0;function qs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Us,this.Y=this.Z=!1}function Hs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function zs(t){this.src=t,this.a={},this.b=0}function Bs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=ns(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Hs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function $s(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}zs.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=$s(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new qs(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Gs="closure_lm_"+(1e6*Math.random()|0),Ks={};function Ws(t,e,n,r,i){if(r&&r.once)return Qs(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ws(t,e[s],n,r,i);return null}return n=io(n),t&&t[Ms]?t.va(e,n,Gi(r)?!!r.capture:!!r,i):Js(t,e,n,!1,r,i)}function Js(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gi(i)?!!i.capture:!!i;if(o&&!Ps)return null;var a=no(t);if(a||(t[Gs]=a=new zs(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=eo,e=Ps?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rs||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Xs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Qs(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qs(t,e[s],n,r,i);return null}return n=io(n),t&&t[Ms]?t.wa(e,n,Gi(r)?!!r.capture:!!r,i):Js(t,e,n,!0,r,i)}function Zs(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Zs(t,e[s],n,r,i);else r=Gi(r)?!!r.capture:!!r,n=io(n),t&&t[Ms]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=$s(s=t.a[e],n,r,i))&&(Hs(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=no(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$s(e,n,r,i)),(n=-1<t?e[t]:null)&&Ys(n))}function Ys(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ms])Bs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=no(e))?(Bs(n,t),0==n.b&&(n.src=null,e[Gs]=null)):Hs(t)}}}function Xs(t){return t in Ks?Ks[t]:Ks[t]="on"+t}function to(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ys(t),n.call(r,e)}function eo(t,e){if(t.Y)return!0;if(!Ps){if(!e)t:{e=["window","event"];for(var n=zi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return to(t,e=new Fs(e,this))}return to(t,new Fs(e,this))}function no(t){return(t=t[Gs])instanceof zs?t:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(t){return"function"==typeof t?t:(t[ro]||(t[ro]=function(e){return t.handleEvent(e)}),t[ro])}function so(){es.call(this),this.c=new zs(this),this.J=this,this.C=null}function oo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ls(e,t);else if(e instanceof Ls)e.target=e.target||t;else{var i=e;gs(e=new Ls(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=ao(o,r,!0,e)&&i}if(i=ao(o=e.a=t,r,!0,e)&&i,i=ao(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ao(o=e.a=n[s],r,!1,e)&&i}function ao(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Bs(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ts(so,es),so.prototype[Ms]=!0,(Ui=so.prototype).addEventListener=function(t,e,n,r){Ws(this,t,e,n,r)},Ui.removeEventListener=function(t,e,n,r){Zs(this,t,e,n,r)},Ui.G=function(){if(so.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Hs(n[r]);delete e.a[t],e.b--}}this.C=null},Ui.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ui.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var uo=zi.JSON.stringify;function co(){this.b=this.a=null}var lo,ho=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new po},function(t){t.reset()});function fo(){var t=vo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function po(){this.next=this.b=this.a=null}function mo(t){zi.setTimeout(function(){throw t},0)}function go(t,e){lo||function(){var t=zi.Promise.resolve(void 0);lo=function(){t.then(bo)}}(),yo||(lo(),yo=!0),vo.add(t,e)}co.prototype.add=function(t,e){var n=ho.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},po.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},po.prototype.reset=function(){this.next=this.b=this.a=null};var yo=!1,vo=new co;function bo(){for(var t;t=fo();){try{t.a.call(t.b)}catch(n){mo(n)}var e=ho;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}yo=!1}function _o(t,e){so.call(this),this.b=t||1,this.a=e||zi,this.f=Zi(this.Za,this),this.g=Xi()}function wo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Eo(t,e,n){if("function"==typeof t)n&&(t=Zi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Zi(t.handleEvent,t)}return 2147483647<Number(e)?-1:zi.setTimeout(t,e||0)}function So(t){t.a=Eo(function(){t.a=null,t.c&&(t.c=!1,So(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ts(_o,so),(Ui=_o.prototype).aa=!1,Ui.M=null,Ui.Za=function(){if(this.aa){var t=Xi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),oo(this,"tick"),this.aa&&(wo(this),this.start()))}},Ui.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Xi())},Ui.G=function(){_o.X.G.call(this),wo(this),delete this.a};var Oo=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Vi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:So(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(zi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(es);function To(t){es.call(this),this.b=t,this.a={}}ts(To,es);var Co=[];function Io(t,e,n,r){Array.isArray(n)||(n&&(Co[0]=n.toString()),n=Co);for(var i=0;i<n.length;i++){var s=Ws(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function xo(t){ds(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ys(t)},t),t.a={}}function Ao(){this.a=!0}function jo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return uo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}To.prototype.G=function(){To.X.G.call(this),xo(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ao.prototype.info=function(){};var ko={},No=null;function Po(){return No=No||new so}function Do(t){Ls.call(this,ko.Fa,t)}function Ro(t){var e=Po();oo(e,new Do(e,t))}function Lo(t,e){Ls.call(this,ko.STAT_EVENT,t),this.stat=e}function Fo(t){var e=Po();oo(e,new Lo(e,t))}function Vo(t){Ls.call(this,ko.Ga,t)}function Mo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return zi.setTimeout(function(){t()},e)}ko.Fa="serverreachability",ts(Do,Ls),ko.STAT_EVENT="statevent",ts(Lo,Ls),ko.Ga="timingevent",ts(Vo,Ls);var Uo={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},qo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ho(){}function zo(){}Ho.prototype.a=null;var Bo,$o={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Go(){Ls.call(this,"d")}function Ko(){Ls.call(this,"c")}function Wo(){}function Jo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new To(this),this.P=Qo,this.R=new _o(t=Ss?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ts(Go,Ls),ts(Ko,Ls),ts(Wo,Ho),Bo=new Wo;var Qo=45e3,Zo={},Yo={};function Xo(t,e,n){t.H=1,t.i=wa(ma(e)),t.j=n,t.I=!0,ta(t,null)}function ta(t,e){t.u=Xi(),ra(t),t.l=ma(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Da(n.b,"t",r),t.D=0,t.a=xu(t.g,t.g.C?e:null),0<t.O&&(t.F=new Oo(Zi(t.Ca,t,t.a),t.O)),Io(t.J,t.a,"readystatechange",t.Xa),e=t.B?ps(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ro(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ea(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=na(t,n);if(i==Yo){4==e&&(t.h=4,Fo(14),r=!1),jo(t.c,t.f,null,"[Incomplete Response]");break}if(i==Zo){t.h=4,Fo(15),jo(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}jo(t.c,t.f,i,null),ua(t,i)}4==e&&0==n.length&&(t.h=1,Fo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),_u(e),e.F=!0,Fo(11))):(jo(t.c,t.f,n,"[Invalid Chunked Response]"),aa(t),oa(t))}function na(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Yo:(n=Number(e.substring(n,r)),isNaN(n)?Zo:(r+=1)+n>e.length?Yo:(e=e.substr(r,n),t.D=r+n,e))}function ra(t){t.T=Xi()+t.P,ia(t,t.P)}function ia(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Mo(Zi(t.Va,t),e)}function sa(t){t.o&&(zi.clearTimeout(t.o),t.o=null)}function oa(t){0==t.g.v||t.A||Su(t.g,t)}function aa(t){sa(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,wo(t.R),xo(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ua(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||qa(n.b,t)))if(n.I=t.N,!t.C&&qa(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(dv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Eu(n),hu(n)}bu(n),Fo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Mo(Zi(n.Sa,n),6e3));if(1>=Ua(n.b)&&n.ea){try{n.ea()}catch(dv){}n.ea=void 0}}else Tu(n,11)}else if((t.C||n.a==t)&&Eu(n),!os(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(cs(l,"spdy")||cs(l,"quic")||cs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ha(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,_a(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Xi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Iu(u,u.C?u.ga:null,u.fa),d.C){za(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(sa(p),ra(p)),u.a=d}else vu(u);0<n.g.length&&pu(n)}else"stop"!=i[0]&&"close"!=i[0]||Tu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Tu(n,7):lu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ro(4)}catch(dv){}}function ca(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($i(t)||"string"==typeof t)rs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if($i(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if($i(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function la(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof la)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ha(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];fa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)fa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function fa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ui=Jo.prototype).setTimeout=function(t){this.P=t},Ui.Xa=function(t){t=t.target;var e=this.F;e&&3==ou(t)?e.f():this.Ca(t)},Ui.Ca=function(t){try{if(t==this.a)t:{var e=ou(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ss&&!this.a.$())){this.A||4!=e||7==n||Ro(8==n||0>=r?3:2),sa(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!os(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Fo(12),aa(this),oa(this);break t}jo(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ua(this,u)}this.I?(ea(this,e,s),Ss&&this.b&&3==e&&(Io(this.J,this.R,"tick",this.Wa),this.R.start())):(jo(this.c,this.f,s,null),ua(this,s)),4==e&&aa(this),this.b&&!this.A&&(4==e?Su(this.g,this):(this.b=!1,ra(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Fo(12)):(this.h=0,Fo(13)),aa(this),oa(this)}}}catch(c){}},Ui.Wa=function(){if(this.a){var t=ou(this.a),e=this.a.$();this.D<e.length&&(sa(this),ea(this,t,e),this.b&&4!=t&&ra(this))}},Ui.cancel=function(){this.A=!0,aa(this)},Ui.Va=function(){this.o=null;var t=Xi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ro(3),Fo(17)),aa(this),this.h=2,oa(this)):ia(this,this.T-t)},(Ui=la.prototype).K=function(){ha(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ui.L=function(){return ha(this),this.a.concat()},Ui.get=function(t,e){return fa(this.b,t)?this.b[t]:e},Ui.set=function(t,e){fa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ui.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var da=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof pa){this.a=void 0!==e?e:t.a,ga(this,t.f),this.j=t.j,ya(this,t.c),va(this,t.h),this.g=t.g,e=t.b;var n=new ja;n.c=e.c,e.a&&(n.a=new la(e.a),n.b=e.b),ba(this,n),this.i=t.i}else t&&(n=String(t).match(da))?(this.a=!!e,ga(this,n[1]||"",!0),this.j=Ea(n[2]||""),ya(this,n[3]||"",!0),va(this,n[4]),this.g=Ea(n[5]||"",!0),ba(this,n[6]||"",!0),this.i=Ea(n[7]||"")):(this.a=!!e,this.b=new ja(null,this.a))}function ma(t){return new pa(t)}function ga(t,e,n){t.f=n?Ea(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ya(t,e,n){t.c=n?Ea(e,!0):e}function va(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ba(t,e,n){e instanceof ja?(t.b=e,function(t,e){e&&!t.f&&(ka(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Na(this,e),Da(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Sa(e,xa)),t.b=new ja(e,t.a))}function _a(t,e,n){t.b.set(e,n)}function wa(t){return _a(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Xi()).toString(36)),t}function Ea(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Oa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Sa(e,Ta,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Sa(e,Ta,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sa(n,"/"==n.charAt(0)?Ia:Ca,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Sa(n,Aa)),t.join("")};var Ta=/[#\/\?@]/g,Ca=/[#\?:]/g,Ia=/[#\?]/g,xa=/[#\?@]/g,Aa=/#/g;function ja(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ka(t){t.a||(t.a=new la,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Na(t,e){ka(t),e=Ra(t,e),fa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,fa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ha(t)))}function Pa(t,e){return ka(t),e=Ra(t,e),fa(t.a.b,e)}function Da(t,e,n){Na(t,e),0<n.length&&(t.c=null,t.a.set(Ra(t,e),ss(n)),t.b+=n.length)}function Ra(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ui=ja.prototype).add=function(t,e){ka(this),this.c=null,t=Ra(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ui.forEach=function(t,e){ka(this),this.a.forEach(function(n,r){rs(n,function(n){t.call(e,n,r,this)},this)},this)},Ui.L=function(){ka(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ui.K=function(t){ka(this);var e=[];if("string"==typeof t)Pa(this,t)&&(e=is(e,this.a.get(Ra(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=is(e,t[n])}return e},Ui.set=function(t,e){return ka(this),this.c=null,Pa(this,t=Ra(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ui.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ui.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var La=function(){return function(t,e){this.b=t,this.a=e}}();function Fa(t){this.g=t||Va,t=zi.PerformanceNavigationTiming?0<(t=zi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(zi.ia&&zi.ia.ya&&zi.ia.ya()&&zi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Va=10;function Ma(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ua(t){return t.b?1:t.a?t.a.size:0}function qa(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ha(t,e){t.a?t.a.add(e):t.b=e}function za(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ba(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Mi(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ss(t.c)}function $a(){}function Ga(){this.a=new $a}function Ka(t,e,n){var r=n||"";try{ca(t,function(t,n){var i=t;Gi(t)&&(i=uo(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(tb){throw e.push(r+"type="+encodeURIComponent("_badmap")),tb}}function Wa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Fa.prototype.cancel=function(){var t,e;if(this.c=Ba(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Mi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},$a.prototype.stringify=function(t){return zi.JSON.stringify(t,void 0)},$a.prototype.parse=function(t){return zi.JSON.parse(t,void 0)};var Ja=zi.JSON.parse;function Qa(t){so.call(this),this.headers=new la,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Za,this.D=this.F=!1}ts(Qa,so);var Za="",Ya=/^https?$/i,Xa=["POST","PUT"];function tu(t){return"content-type"==t.toLowerCase()}function eu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,nu(t),iu(t)}function nu(t){t.u||(t.u=!0,oo(t,"complete"),oo(t,"error"))}function ru(t){if(t.b&&void 0!==Hi&&(!t.s[1]||4!=ou(t)||2!=t.W()))if(t.l&&4==ou(t))Eo(t.za,0,t);else if(oo(t,"readystatechange"),4==ou(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(da)[1]||null;if(!s&&zi.self&&zi.self.location){var o=zi.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ya.test(s?s.toLowerCase():"")}e=i}if(e)oo(t,"complete"),oo(t,"success");else{t.h=6;try{var a=2<ou(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",nu(t)}}finally{iu(t)}}}function iu(t,e){if(t.a){su(t);var n=t.a,r=t.s[0]?Bi:null;t.a=null,t.s=null,e||oo(t,"ready");try{n.onreadystatechange=r}catch(tb){}}}function su(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(zi.clearTimeout(t.m),t.m=null)}function ou(t){return t.a?t.a.readyState:0}function au(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ds(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):_a(t,e,n))}function uu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cu(t){this.pa=0,this.g=[],this.c=new Ao,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=uu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=uu("baseRetryDelayMs",5e3,t),this.Ra=uu("retryDelaySeedMs",1e4,t),this.Ma=uu("forwardChannelMaxRetries",2,t),this.ma=uu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Fa(t&&t.concurrentRequestLimit),this.ka=new Ga,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function lu(t){if(fu(t),3==t.v){var e=t.R++,n=ma(t.B);_a(n,"SID",t.J),_a(n,"RID",e),_a(n,"TYPE","terminate"),gu(t,n),(e=new Jo(t,t.c,e,void 0)).H=2,e.i=wa(ma(n)),n=!1,zi.navigator&&zi.navigator.sendBeacon&&(n=zi.navigator.sendBeacon(e.i.toString(),"")),!n&&zi.Image&&((new Image).src=e.i,n=!0),n||(e.a=xu(e.g,null),e.a.ba(e.i)),e.u=Xi(),ra(e)}Cu(t)}function hu(t){t.a&&(_u(t),t.a.cancel(),t.a=null)}function fu(t){hu(t),t.j&&(zi.clearTimeout(t.j),t.j=null),Eu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&zi.clearTimeout(t.h),t.h=null)}function du(t,e){t.g.push(new La(t.Oa++,e)),3==t.v&&pu(t)}function pu(t){Ma(t.b)||t.h||(t.h=!0,go(t.Ba,t),t.u=0)}function mu(t,e){var n;n=e?e.f:t.R++;var r=ma(t.B);_a(r,"SID",t.J),_a(r,"RID",n),_a(r,"AID",t.P),gu(t,r),t.i&&t.l&&au(r,t.i,t.l),n=new Jo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=yu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ha(t.b,n),Xo(n,r,e)}function gu(t,e){t.f&&ca({},function(t,n){_a(e,n,t)})}function yu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Zi(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Ka(l,o,"req"+c+"_")}catch(lc){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function vu(t){t.a||t.j||(t.T=1,go(t.Aa,t),t.o=0)}function bu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Mo(Zi(t.Aa,t),Ou(t,t.o)),t.o++,0))}function _u(t){null!=t.s&&(zi.clearTimeout(t.s),t.s=null)}function wu(t){t.a=new Jo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ma(t.la);_a(e,"RID","rpc"),_a(e,"SID",t.J),_a(e,"CI",t.H?"0":"1"),_a(e,"AID",t.P),gu(t,e),_a(e,"TYPE","xmlhttp"),t.i&&t.l&&au(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=wa(ma(e)),n.j=null,n.I=!0,ta(n,t)}function Eu(t){null!=t.m&&(zi.clearTimeout(t.m),t.m=null)}function Su(t,e){var n=null;if(t.a==e){Eu(t),_u(t),t.a=null;var r=2}else{if(!qa(t.b,e))return;n=e.s,za(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Xi()-e.u;var i=t.u;oo(r=Po(),new Vo(r,n,e,i)),pu(t)}else vu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ua(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Mo(Zi(t.Ba,t,e),Ou(t,t.u)),t.u++,0)))}(t,e)||2==r&&bu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Tu(t,5);break;case 4:Tu(t,10);break;case 3:Tu(t,6);break;default:Tu(t,2)}}function Ou(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Tu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Zi(t.Ya,t);n||(n=new pa("//www.google.com/images/cleardot.gif"),zi.location&&"http"==zi.location.protocol||ga(n,"https"),wa(n)),function(t,e){var n=new Ao;if(zi.Image){var r=new Image;r.onload=Yi(Wa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yi(Wa,n,r,"TestLoadImage: error",!1,e),r.onabort=Yi(Wa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yi(Wa,n,r,"TestLoadImage: timeout",!1,e),zi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fo(2);t.v=0,t.f&&t.f.ra(e),Cu(t),fu(t)}function Cu(t){t.v=0,t.I=-1,t.f&&(0==Ba(t.b).length&&0==t.g.length||(t.b.c.length=0,ss(t.g),t.g.length=0),t.f.qa())}function Iu(t,e,n){var r=function(t){return t instanceof pa?ma(t):new pa(t,void 0)}(n);if(""!=r.c)e&&ya(r,e+"."+r.c),va(r,r.h);else{var i=zi.location;r=function(t,e,n,r){var i=new pa(null,void 0);return t&&ga(i,t),e&&ya(i,e),n&&va(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ds(t.V,function(t,e){_a(r,e,t)}),n=t.na,(e=t.A)&&n&&_a(r,e,n),_a(r,"VER",t.ha),gu(t,r),r}function xu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qa(t.Na)).F=t.C,e}function Au(){}function ju(){if(ws&&!(10<=Number(Ns)))throw Error("Environmental error: no available transport.")}function ku(t,e){so.call(this),this.a=new cu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!os(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!os(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Du(this)}function Nu(t){Go.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Pu(){Ko.call(this),this.status=1}function Du(t){this.a=t}(Ui=Qa.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Bo),this.a.onreadystatechange=Zi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void eu(this,s)}t=n||"";var i=new la(this.headers);r&&ca(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=tu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=zi.FormData&&t instanceof zi.FormData,!(0<=ns(Xa,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{su(this),0<this.o&&((this.D=function(t){return ws&&ks(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Zi(this.xa,this)):this.m=Eo(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){eu(this,s)}},Ui.xa=function(){void 0!==Hi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,oo(this,"timeout"),this.abort(8))},Ui.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,oo(this,"complete"),oo(this,"abort"),iu(this))},Ui.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),iu(this,!0)),Qa.X.G.call(this)},Ui.za=function(){this.j||(this.A||this.l||this.g?ru(this):this.Ua())},Ui.Ua=function(){ru(this)},Ui.W=function(){try{return 2<ou(this)?this.a.status:-1}catch(bs){return-1}},Ui.$=function(){try{return this.a?this.a.responseText:""}catch(bs){return""}},Ui.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ja(e)}},Ui.ua=function(){return this.h},Ui.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ui=cu.prototype).ha=8,Ui.v=1,Ui.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Jo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?gs(r=ps(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=yu(this,n,e),_a(i=ma(this.B),"RID",t),_a(i,"CVER",22),this.A&&_a(i,"X-HTTP-Session-Id",this.A),gu(this,i),this.i&&r&&au(i,this.i,r),Ha(this.b,n),this.Ia&&_a(i,"TYPE","init"),this.da?(_a(i,"$req",e),_a(i,"SID","null"),n.U=!0,Xo(n,i,null)):Xo(n,i,e),this.v=2}}else 3==this.v&&(t?mu(this,t):0==this.g.length||Ma(this.b)||mu(this))},Ui.Aa=function(){if(this.j=null,wu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Mo(Zi(this.Ta,this),t)}},Ui.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Fo(10),hu(this),wu(this))},Ui.Sa=function(){null!=this.m&&(this.m=null,hu(this),bu(this),Fo(19))},Ui.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Fo(2)):(this.c.info("Failed to ping google.com"),Fo(1))},(Ui=Au.prototype).ta=function(){},Ui.sa=function(){},Ui.ra=function(){},Ui.qa=function(){},Ui.Ja=function(){},ju.prototype.a=function(t,e){return new ku(t,e)},ts(ku,so),ku.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Fo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Iu(t,null,t.fa),pu(t)},ku.prototype.close=function(){lu(this.a)},ku.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,du(this.a,e)}else this.l?((e={}).__data__=uo(t),du(this.a,e)):du(this.a,t)},ku.prototype.G=function(){this.a.f=null,delete this.f,lu(this.a),delete this.a,ku.X.G.call(this)},ts(Nu,Go),ts(Pu,Ko),ts(Du,Au),Du.prototype.ta=function(){oo(this.a,"a")},Du.prototype.sa=function(t){oo(this.a,new Nu(t))},Du.prototype.ra=function(t){oo(this.a,new Pu(t))},Du.prototype.qa=function(){oo(this.a,"b")},ju.prototype.createWebChannel=ju.prototype.a,ku.prototype.send=ku.prototype.h,ku.prototype.open=ku.prototype.g,ku.prototype.close=ku.prototype.close,Uo.NO_ERROR=0,Uo.TIMEOUT=8,Uo.HTTP_ERROR=6,qo.COMPLETE="complete",zo.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",so.prototype.listen=so.prototype.va,Qa.prototype.listenOnce=Qa.prototype.wa,Qa.prototype.getLastError=Qa.prototype.Qa,Qa.prototype.getLastErrorCode=Qa.prototype.ua,Qa.prototype.getStatus=Qa.prototype.W,Qa.prototype.getResponseJson=Qa.prototype.Pa,Qa.prototype.getResponseText=Qa.prototype.$,Qa.prototype.send=Qa.prototype.ba;var Ru=Uo,Lu=qo,Fu=ko,Vu=zo,Mu=Qa,Uu=n("os0x"),qu=new Li.b("@firebase/firestore");function Hu(){return qu.logLevel}function zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=Li.a.DEBUG){var r=e.map(Gu);qu.debug.apply(qu,Object(Uu.g)(["Firestore (8.2.1): "+t],r))}}function Bu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=Li.a.ERROR){var r=e.map(Gu);qu.error.apply(qu,Object(Uu.g)(["Firestore (8.2.1): "+t],r))}}function $u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=Li.a.WARN){var r=e.map(Gu);qu.warn.apply(qu,Object(Uu.g)(["Firestore (8.2.1): "+t],r))}}function Gu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(tb){return t}}function Ku(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw Bu(e),new Error(e)}function Wu(t,e){t||Ku()}function Ju(t,e){return t}function Qu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zu=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Qu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Yu(t,e){return t<e?-1:t>e?1:0}function Xu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function tc(t){return t+"\0"}var ec=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Yu(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();ec.h=new ec("");var nc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Uu.c)(e,t),e}(Error),ic=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(ec.fromBase64String(e))}catch(e){throw new rc(nc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ec.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),sc=function(t){this._=t};function oc(){if("undefined"==typeof Uint8Array)throw new rc(nc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ac(){if("undefined"==typeof atob)throw new rc(nc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.fromBase64String=function(t){return ac(),new e(ic.fromBase64String(t))},e.fromUint8Array=function(t){return oc(),new e(ic.fromUint8Array(t))},e.prototype.toBase64=function(){return ac(),this._.toBase64()},e.prototype.toUint8Array=function(){return oc(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(sc),cc=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},lc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),hc=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();hc.UNAUTHENTICATED=new hc(null),hc.P=new hc("google-credentials-uid"),hc.g=new hc("first-party-uid");var fc=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},dc=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(hc.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),pc=function(){function t(t){var e=this;this.C=null,this.currentUser=hc.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(zu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Wu("string"==typeof n.accessToken),new fc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Wu(null===t||"string"==typeof t),new hc(t)},t}(),mc=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=hc.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),gc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new mc(this.k,this.M))},t.prototype.S=function(t){t(hc.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),yc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();yc.U=-1;var vc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new rc(nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new rc(nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new rc(nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rc(nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Yu(this.nanoseconds,t.nanoseconds):Yu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),bc=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new vc(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),_c=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ku(),void 0===n?n=t.length-e:n>t.length-e&&Ku(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new rc(nc.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(_c),Ec=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Ec.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new rc(nc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new rc(nc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rc(nc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new rc(nc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(_c),Oc=function(){function t(t){this.path=t}return t.ft=function(e){return new t(wc.ct(e))},t.dt=function(e){return new t(wc.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wc.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return wc.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new wc(e.slice()))},t}();function Tc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ic(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xc=function(){function t(t){this.fields=t,t.sort(Sc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Xu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(t){if(Wu(!!t),"string"==typeof t){var e=0,n=Ac.exec(t);if(Wu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kc(t.seconds),nanos:kc(t.nanos)}}function kc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Nc(t){return"string"==typeof t?ec.fromBase64String(t):ec.fromUint8Array(t)}function Pc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dc(t){var e=t.mapValue.fields.__previous_value__;return Pc(e)?Dc(e):e}function Rc(t){var e=jc(t.mapValue.fields.__local_write_time__.timestampValue);return new vc(e.seconds,e.nanos)}function Lc(t){return null==t}function Fc(t){return 0===t&&1/t==-1/0}function Vc(t){return"number"==typeof t&&Number.isInteger(t)&&!Fc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pc(t)?4:10:Ku()}function Uc(t,e){var n=Mc(t);if(n!==Mc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rc(t).isEqual(Rc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jc(t.timestampValue),r=jc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Nc(t.bytesValue).isEqual(Nc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return kc(t.geoPointValue.latitude)===kc(e.geoPointValue.latitude)&&kc(t.geoPointValue.longitude)===kc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return kc(t.integerValue)===kc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=kc(t.doubleValue),r=kc(e.doubleValue);return n===r?Fc(n)===Fc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xu(t.arrayValue.values||[],e.arrayValue.values||[],Uc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Tc(n)!==Tc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uc(n[i],r[i])))return!1;return!0}(t,e);default:return Ku()}}function qc(t,e){return void 0!==(t.values||[]).find(function(t){return Uc(t,e)})}function Hc(t,e){var n=Mc(t),r=Mc(e);if(n!==r)return Yu(n,r);switch(n){case 0:return 0;case 1:return Yu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=kc(t.integerValue||t.doubleValue),r=kc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return zc(t.timestampValue,e.timestampValue);case 4:return zc(Rc(t),Rc(e));case 5:return Yu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Nc(t),r=Nc(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Yu(n[i],r[i]);if(0!==s)return s}return Yu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Yu(kc(t.latitude),kc(e.latitude));return 0!==n?n:Yu(kc(t.longitude),kc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Hc(n[i],r[i]);if(s)return s}return Yu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Yu(r[o],s[o]);if(0!==a)return a;var u=Hc(n[r[o]],i[s[o]]);if(0!==u)return u}return Yu(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ku()}}function zc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yu(t,e);var n=jc(t),r=jc(e),i=Yu(n.seconds,r.seconds);return 0!==i?i:Yu(n.nanos,r.nanos)}function Bc(t){return $c(t)}function $c(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=jc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Nc(t.bytesValue).toBase64():"referenceValue"in t?Oc.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=$c(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+$c(t.fields[s])}return e+"}"}(t.mapValue):Ku();var e}function Gc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Kc(t){return!!t&&"integerValue"in t}function Wc(t){return!!t&&"arrayValue"in t}function Jc(t){return!!t&&"nullValue"in t}function Qc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zc(t){return!!t&&"mapValue"in t}var Yc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Zc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Uc(this.proto,t.proto)},t}(),Xc=function(){function t(t){void 0===t&&(t=Yc.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Mc(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Sc.at(),this.Rt);return null!=t?new Yc(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=Zc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function tl(t){var e=[];return Cc(t.fields||{},function(t,n){var r=new Sc([t]);if(Zc(n)){var i=tl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new xc(e)}var el=function(t,e){this.key=t,this.version=e},nl=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Uu.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(el),rl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Uu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(el),il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(el),sl=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function ol(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new sl(t,e,n,r,i,s,o)}function al(t){var e=Ju(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Bc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Lc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=_l(e.startAt)),e.endAt&&(n+="|ub:",n+=_l(e.endAt)),e.St=n}return e.St}function ul(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!El(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Uc(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ol(t.startAt,e.startAt)&&Ol(t.endAt,e.endAt)}function cl(t){return Oc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ll=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Uu.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new hl(t,n,r):"array-contains"===n?new ml(t,r):"in"===n?new gl(t,r):"not-in"===n?new yl(t,r):"array-contains-any"===n?new vl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new fl(t,n):new dl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Hc(e,this.value)):null!==e&&Mc(this.value)===Mc(e)&&this.Ct(Hc(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ku()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),hl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Oc.dt(r.referenceValue),i}return Object(Uu.c)(e,t),e.prototype.matches=function(t){var e=Oc.J(t.key,this.key);return this.Ct(e)},e}(ll),fl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=pl(0,n),r}return Object(Uu.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ll),dl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=pl(0,n),r}return Object(Uu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ll);function pl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Oc.dt(t.referenceValue)})}var ml=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Uu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Wc(e)&&qc(e.arrayValue,this.value)},e}(ll),gl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Uu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&qc(this.value.arrayValue,e)},e}(ll),yl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Uu.c)(e,t),e.prototype.matches=function(t){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!qc(this.value.arrayValue,e)},e}(ll),vl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Uu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Wc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return qc(e.value.arrayValue,t)})},e}(ll),bl=function(t,e){this.position=t,this.before=e};function _l(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Bc(t)}).join(",")}var wl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function El(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Sl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Oc.J(Oc.dt(o.referenceValue),n.key):Hc(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ol(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Uc(t.position[n],e.position[n]))return!1;return!0}var Tl=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function Cl(t,e,n,r,i,s,o,a){return new Tl(t,e,n,r,i,s,o,a)}function Il(t){return new Tl(t)}function xl(t){return!Lc(t.limit)&&"F"===t.limitType}function Al(t){return!Lc(t.limit)&&"L"===t.limitType}function jl(t){return t.Nt.length>0?t.Nt[0].field:null}function kl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Nl(t){return null!==t.collectionGroup}function Pl(t){var e=Ju(t);if(null===e.Ft){e.Ft=[];var n=kl(e),r=jl(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new wl(n)),e.Ft.push(new wl(Sc.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new wl(Sc.lt(),u))}}}return e.Ft}function Dl(t){var e=Ju(t);if(!e.Ot)if("F"===e.limitType)e.Ot=ol(e.path,e.collectionGroup,Pl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Pl(e);r<i.length;r++){var s=i[r];n.push(new wl(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new bl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new bl(e.startAt.position,!e.startAt.before):null;e.Ot=ol(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function Rl(t,e,n){return new Tl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ll(t,e){return ul(Dl(t),Dl(e))&&t.limitType===e.limitType}function Fl(t){return al(Dl(t))+"|lt:"+t.limitType}function Vl(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Bc(e.value);var e}).join(", ")+"]"),Lc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+_l(t.startAt)),t.endAt&&(e+=", endAt: "+_l(t.endAt)),"Target("+e+")"}(Dl(t))+"; limitType="+t.limitType+")"}function Ml(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Oc.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Sl(t.startAt,Pl(t),e)||t.endAt&&Sl(t.endAt,Pl(t),e))}(t,e)}function Ul(t){return function(e,n){for(var r=!1,i=0,s=Pl(t);i<s.length;i++){var o=s[i],a=ql(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function ql(t,e,n){var r=t.field.ht()?Oc.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Hc(r,i):Ku()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ku()}}var Hl=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=bc.min()),void 0===s&&(s=bc.min()),void 0===o&&(o=ec.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function zl(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function Bl(t){return{integerValue:""+t}}function $l(t,e){return Vc(e)?Bl(e):zl(t,e)}var Gl=function(){this.Ut=void 0};function Kl(t,e,n){return t instanceof Ql?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Zl?Yl(t,e):t instanceof Xl?th(t,e):function(t,e){var n=Jl(t,e),r=nh(n)+nh(t.Qt);return Kc(n)&&Kc(t.Qt)?Bl(r):zl(t.Kt,r)}(t,e)}function Wl(t,e,n){return t instanceof Zl?Yl(t,e):t instanceof Xl?th(t,e):n}function Jl(t,e){return t instanceof eh?Kc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e}(Gl),Zl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Uu.c)(e,t),e}(Gl);function Yl(t,e){for(var n=rh(e),r=function(t){n.some(function(e){return Uc(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Xl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Uu.c)(e,t),e}(Gl);function th(t,e){for(var n=rh(e),r=function(t){n=n.filter(function(e){return!Uc(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Uu.c)(e,t),e}(Gl);function nh(t){return kc(t.integerValue||t.doubleValue)}function rh(t){return Wc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ih=function(t,e){this.field=t,this.transform=e},sh=function(t,e){this.version=t,this.transformResults=e},oh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ah(t,e){return void 0!==t.updateTime?e instanceof nl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof nl}var uh=function(){};function ch(t,e,n){return t instanceof ph?function(t,e,n){var r=t.value;if(n.transformResults){var i=yh(t.fieldTransforms,e,n.transformResults);r=bh(t.fieldTransforms,r,i)}return new nl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof mh?function(t,e,n){if(!ah(t.Gt,e))return new il(t.key,n.version);var r=gh(t,e,n.transformResults?yh(t.fieldTransforms,e,n.transformResults):[]);return new nl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new rl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function lh(t,e,n,r){return t instanceof ph?function(t,e,n,r){if(!ah(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var s=vh(t.fieldTransforms,n,e,r);i=bh(t.fieldTransforms,i,s)}var o=dh(e);return new nl(t.key,o,i,{bt:!0})}(t,e,r,n):t instanceof mh?function(t,e,n,r){if(!ah(t.Gt,e))return e;var i=dh(e),s=gh(t,e,vh(t.fieldTransforms,n,e,r));return new nl(t.key,i,s,{bt:!0})}(t,e,r,n):function(t,e){return ah(t.Gt,e)?new rl(t.key,bc.min()):e}(t,e)}function hh(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof nl?e.field(s.field):void 0,a=Jl(s.transform,o||null);null!=a&&(n=null==n?(new Xc).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function fh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Xu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Zl&&e instanceof Zl||t instanceof Xl&&e instanceof Xl?Xu(t.elements,e.elements,Uc):t instanceof eh&&e instanceof eh?Uc(t.Qt,e.Qt):t instanceof Ql&&e instanceof Ql}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function dh(t){return t instanceof nl?t.version:bc.min()}var ph=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(Uu.c)(e,t),e}(uh),mh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(Uu.c)(e,t),e}(uh);function gh(t,e,n){var r;return r=function(t,e){var n=new Xc(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof nl?e.data():Yc.empty()),bh(t.fieldTransforms,r,n)}function yh(t,e,n){var r=[];Wu(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof nl&&(a=e.field(s.field)),r.push(Wl(o,a,n[i]))}return r}function vh(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof nl&&(c=n.field(a.field)),null===c&&r instanceof nl&&(c=r.field(a.field)),i.push(Kl(u,c,e))}return i}function bh(t,e,n){for(var r=new Xc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var _h,wh,Eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Uu.c)(e,t),e}(uh),Sh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Uu.c)(e,t),e}(uh),Oh=function(t){this.count=t};function Th(t){switch(t){case nc.OK:return Ku();case nc.CANCELLED:case nc.UNKNOWN:case nc.DEADLINE_EXCEEDED:case nc.RESOURCE_EXHAUSTED:case nc.INTERNAL:case nc.UNAVAILABLE:case nc.UNAUTHENTICATED:return!1;case nc.INVALID_ARGUMENT:case nc.NOT_FOUND:case nc.ALREADY_EXISTS:case nc.PERMISSION_DENIED:case nc.FAILED_PRECONDITION:case nc.ABORTED:case nc.OUT_OF_RANGE:case nc.UNIMPLEMENTED:case nc.DATA_LOSS:return!0;default:return Ku()}}function Ch(t){if(void 0===t)return Bu("GRPC error has no .code"),nc.UNKNOWN;switch(t){case _h.OK:return nc.OK;case _h.CANCELLED:return nc.CANCELLED;case _h.UNKNOWN:return nc.UNKNOWN;case _h.DEADLINE_EXCEEDED:return nc.DEADLINE_EXCEEDED;case _h.RESOURCE_EXHAUSTED:return nc.RESOURCE_EXHAUSTED;case _h.INTERNAL:return nc.INTERNAL;case _h.UNAVAILABLE:return nc.UNAVAILABLE;case _h.UNAUTHENTICATED:return nc.UNAUTHENTICATED;case _h.INVALID_ARGUMENT:return nc.INVALID_ARGUMENT;case _h.NOT_FOUND:return nc.NOT_FOUND;case _h.ALREADY_EXISTS:return nc.ALREADY_EXISTS;case _h.PERMISSION_DENIED:return nc.PERMISSION_DENIED;case _h.FAILED_PRECONDITION:return nc.FAILED_PRECONDITION;case _h.ABORTED:return nc.ABORTED;case _h.OUT_OF_RANGE:return nc.OUT_OF_RANGE;case _h.UNIMPLEMENTED:return nc.UNIMPLEMENTED;case _h.DATA_LOSS:return nc.DATA_LOSS;default:return Ku()}}(wh=_h||(_h={}))[wh.OK=0]="OK",wh[wh.CANCELLED=1]="CANCELLED",wh[wh.UNKNOWN=2]="UNKNOWN",wh[wh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wh[wh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wh[wh.NOT_FOUND=5]="NOT_FOUND",wh[wh.ALREADY_EXISTS=6]="ALREADY_EXISTS",wh[wh.PERMISSION_DENIED=7]="PERMISSION_DENIED",wh[wh.UNAUTHENTICATED=16]="UNAUTHENTICATED",wh[wh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wh[wh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wh[wh.ABORTED=10]="ABORTED",wh[wh.OUT_OF_RANGE=11]="OUT_OF_RANGE",wh[wh.UNIMPLEMENTED=12]="UNIMPLEMENTED",wh[wh.INTERNAL=13]="INTERNAL",wh[wh.UNAVAILABLE=14]="UNAVAILABLE",wh[wh.DATA_LOSS=15]="DATA_LOSS";var Ih=function(){function t(t,e){this.J=t,this.root=e||Ah.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Ah.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Ah.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new xh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new xh(this.root,t,this.J,!1)},t.prototype.se=function(){return new xh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new xh(this.root,t,this.J,!0)},t}(),xh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Ah=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ku();if(this.right._e())throw Ku();var t=this.left.me();if(t!==this.right.me())throw Ku();return t+(this._e()?0:1)},t}();Ah.EMPTY=null,Ah.RED=!0,Ah.Jt=!1,Ah.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ku()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ku()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ku()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ku()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ku()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Ah(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var jh=function(){function t(t){this.J=t,this.data=new Ih(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new kh(this.data.ee())},t.prototype.ne=function(t){return new kh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),kh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Nh=new Ih(Oc.J);function Ph(){return Nh}function Dh(){return Ph()}var Rh=new Ih(Oc.J);function Lh(){return Rh}var Fh=new Ih(Oc.J);function Vh(){return Fh}var Mh=new jh(Oc.J);function Uh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Mh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var qh=new jh(Yu);function Hh(){return qh}var zh=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Oc.J(e.key,n.key)}:function(t,e){return Oc.J(t.key,e.key)},this.Ve=Lh(),this.pe=new Ih(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Bh=function(){function t(){this.ve=new Ih(Oc.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ku():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),$h=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,zh.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Ll(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Gh=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Kh.Be(e,n)),new t(bc.min(),r,Hh(),Ph(),Uh())},t}(),Kh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(ec.h,n,Uh(),Uh(),Uh())},t}(),Wh=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Jh=function(t,e){this.targetId=t,this.Ge=e},Qh=function(t,e,n,r){void 0===n&&(n=ec.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Zh=function(){function t(){this.ze=0,this.He=tf(),this.Je=ec.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Uh(),e=Uh(),n=Uh();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ku()}}),new Kh(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=tf()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Yh=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Ph(),this.fn=Xh(),this.dn=new jh(Yu)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof nl?this.En(r,t.je):t.je instanceof rl&&this.Tn(r,t.key,t.je)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ku()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(cl(i))if(0===n){var s=new Oc(i.path);this.Tn(e,s,new rl(s,bc.min()))}else Wu(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&cl(s.target)){var o=new Oc(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new rl(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=Uh();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Gh(t,n,this.dn,this._n,r);return this._n=Ph(),this.fn=Xh(),this.dn=new jh(Yu),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Zh,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new jh(Yu),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||zu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Zh),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Xh(){return new Ih(Oc.J)}function tf(){return new Ih(Oc.J)}var ef={asc:"ASCENDING",desc:"DESCENDING"},nf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rf=function(t,e){this.T=t,this.qt=e};function sf(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function of(t,e){return t.qt?e.toBase64():e.toUint8Array()}function af(t,e){return sf(t,e.G())}function uf(t){return Wu(!!t),bc.W(function(t){var e=jc(t);return new vc(e.seconds,e.nanos)}(t))}function cf(t,e){return function(t){return new wc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function lf(t){var e=wc.ct(t);return Wu(Df(e)),e}function hf(t,e){return cf(t.T,e.path)}function ff(t,e){var n=lf(e);if(n.get(1)!==t.T.projectId)throw new rc(nc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new rc(nc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Oc(gf(n))}function df(t,e){return cf(t.T,e)}function pf(t){var e=lf(t);return 4===e.length?wc.at():gf(e)}function mf(t){return new wc(["projects",t.T.projectId,"databases",t.T.database]).ot()}function gf(t){return Wu(t.length>4&&"documents"===t.get(4)),t.X(5)}function yf(t,e,n){return{name:hf(t,e),fields:n.proto.mapValue.fields}}function vf(t,e,n){var r=ff(t,e.name),i=uf(e.updateTime),s=new Yc({mapValue:{fields:e.fields}});return new nl(r,i,s,{hasCommittedMutations:!!n})}function bf(t,e){var n;if(e instanceof ph)n={update:yf(t,e.key,e.value)};else if(e instanceof Eh)n={delete:hf(t,e.key)};else if(e instanceof mh)n={update:yf(t,e.key,e.data),updateMask:Pf(e.zt)};else{if(!(e instanceof Sh))return Ku();n={verify:hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ql)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zl)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Xl)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof eh)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ku()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:af(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ku()}(t,e.Gt)),n}function _f(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?oh.updateTime(uf(t.updateTime)):void 0!==t.exists?oh.exists(t.exists):oh.Wt()}(e.currentDocument):oh.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Wu("REQUEST_TIME"===e.setToServerValue),n=new Ql):"appendMissingElements"in e?n=new Zl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xl(e.removeAllFromArray.values||[]):"increment"in e?n=new eh(t,e.increment):Ku();var r=Sc._t(e.fieldPath);return new ih(r,n)}(t,e)}):[];if(e.update){var i=ff(t,e.update.name),s=new Yc({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new xc((t.fieldPaths||[]).map(function(t){return Sc._t(t)}))}(e.updateMask);return new mh(i,s,o,n,r)}return new ph(i,s,n,r)}if(e.delete){var a=ff(t,e.delete);return new Eh(a,n)}if(e.verify){var u=ff(t,e.verify);return new Sh(u,n)}return Ku()}function wf(t,e){return{documents:[df(t,e.path)]}}function Ef(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=df(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=df(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Qc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NAN"}};if(Jc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Qc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NOT_NAN"}};if(Jc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Af(t.field),op:xf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Af(t.field),direction:If(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||Lc(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Tf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Tf(e.endAt)),n}function Sf(t){var e=pf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Wu(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Of(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new wl(jf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Lc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Cf(n.startAt));var l=null;return n.endAt&&(l=Cf(n.endAt)),Cl(e,i,a,o,u,"F",c,l)}function Of(t){return t?void 0!==t.unaryFilter?[Nf(t)]:void 0!==t.fieldFilter?[kf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Of(t)}).reduce(function(t,e){return t.concat(e)}):Ku():[]}function Tf(t){return{before:t.before,values:t.position}}function Cf(t){return new bl(t.values||[],!!t.before)}function If(t){return ef[t]}function xf(t){return nf[t]}function Af(t){return{fieldPath:t.ot()}}function jf(t){return Sc._t(t.fieldPath)}function kf(t){return ll.create(jf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ku()}}(t.fieldFilter.op),t.fieldFilter.value)}function Nf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=jf(t.unaryFilter.field);return ll.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=jf(t.unaryFilter.field);return ll.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jf(t.unaryFilter.field);return ll.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jf(t.unaryFilter.field);return ll.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ku()}}function Pf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Df(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Rf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Lf=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Ku(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),Ff=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Rf,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Uf(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=$f(e.target.error);n.qn.reject(new Uf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Uf(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(zu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Hf(e)},t}(),Vf=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Fi.g)())&&Bu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return zu("SimpleDb","Removing database:",t),zf(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(Fi.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Uu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(zu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Uf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new rc(nc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Uf(t,n))},i.onupgradeneeded=function(t){zu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){zu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Uu.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Uu.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Uu.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Ff.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Lf.reject(t)}).Mn(),u={},o.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return zu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Mf=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return zf(this.ts.delete())},t}(),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,nc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Uu.c)(e,t),e}(rc);function qf(t){return"IndexedDbTransactionError"===t.name}var Hf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(zu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(zu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),zf(n)},t.prototype.add=function(t){return zu("SimpleDb","ADD",this.store.name,t,t),zf(this.store.add(t))},t.prototype.get=function(t){var e=this;return zf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),zu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return zu("SimpleDb","DELETE",this.store.name,t),zf(this.store.delete(t))},t.prototype.count=function(){return zu("SimpleDb","COUNT",this.store.name),zf(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){zu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Lf(function(n,r){e.onerror=function(t){var e=$f(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Lf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Mf(i),o=e(i.primaryKey,i.value,s);if(o instanceof Lf){var a=o.catch(function(t){return s.done(),Lf.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return Lf.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function zf(t){return new Lf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=$f(t.target.error);n(e)}})}var Bf=!1;function $f(t){var e=Vf.Kn(Object(Fi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new rc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Bf||(Bf=!0,setTimeout(function(){throw r},0)),r}}return t}var Gf=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Rf,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new rc(nc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Kf(t,e){if(Bu("AsyncQueue",e+": "+t),qf(t))return new rc(nc.UNAVAILABLE,e+": "+t);throw t}var Wf=function(t,e){this.progress=t,this.gs=e},Jf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qf=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function Zf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Xf(e)),e=Yf(t.get(n),e);return Xf(e)}function Yf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Xf(t){return t+"\x01\x01"}function td(t){var e=t.length;if(Wu(e>=2),2===e)return Wu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wc.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ku(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ku()}s=o+2}return new wc(r)}var ed=function(t,e){this.seconds=t,this.nanoseconds=e},nd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};nd.store="owner",nd.key="owner";var rd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};rd.store="mutationQueues",rd.keyPath="userId";var id=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};id.store="mutations",id.keyPath="batchId",id.userMutationsIndex="userMutationsIndex",id.userMutationsKeyPath=["userId","batchId"];var sd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Zf(e)]},t.key=function(t,e,n){return[t,Zf(e),n]},t}();sd.store="documentMutations",sd.PLACEHOLDER=new sd;var od=function(t,e){this.path=t,this.readTime=e},ad=function(t,e){this.path=t,this.version=e},ud=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ud.store="remoteDocuments",ud.readTimeIndex="readTimeIndex",ud.readTimeIndexPath="readTime",ud.collectionReadTimeIndex="collectionReadTimeIndex",ud.collectionReadTimeIndexPath=["parentPath","readTime"];var cd=function(t){this.byteSize=t};cd.store="remoteDocumentGlobal",cd.key="remoteDocumentGlobalKey";var ld=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ld.store="targets",ld.keyPath="targetId",ld.queryTargetsIndexName="queryTargetsIndex",ld.queryTargetsKeyPath=["canonicalId","targetId"];var hd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};hd.store="targetDocuments",hd.keyPath=["targetId","path"],hd.documentTargetsIndex="documentTargetsIndex",hd.documentTargetsKeyPath=["path","targetId"];var fd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};fd.key="targetGlobalKey",fd.store="targetGlobal";var dd=function(t,e){this.collectionId=t,this.parent=e};dd.store="collectionParents",dd.keyPath=["collectionId","parent"];var pd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};pd.store="clientMetadata",pd.keyPath="clientId";var md=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};md.store="bundles",md.keyPath="bundleId";var gd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};gd.store="namedQueries",gd.keyPath="name";var yd=Object(Uu.g)(Object(Uu.g)(Object(Uu.g)(Object(Uu.g)([rd.store,id.store,sd.store,ud.store,ld.store,nd.store,fd.store,hd.store],[pd.store]),[cd.store]),[dd.store]),[md.store,gd.store]),vd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(Uu.c)(e,t),e}(Qf);function bd(t,e){var n=Ju(t);return Vf.Hn(n.vs,e)}var _d=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=ch(s,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=lh(i,e,e,this.Ds))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=lh(u,e,s,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Uh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xu(this.mutations,t.mutations,function(t,e){return fh(t,e)})&&Xu(this.baseMutations,t.baseMutations,function(t,e){return fh(t,e)})},t}(),wd=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){Wu(e.mutations.length===r.length);for(var i=Vh(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ed=function(t){this.Ms=t};function Sd(t,e){if(e.document)return vf(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Oc.Tt(e.noDocument.path),r=xd(e.noDocument.readTime);return new rl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Oc.Tt(e.unknownDocument.path);return r=xd(e.unknownDocument.version),new il(i,r)}return Ku()}function Od(t,e,n){var r=Td(n),i=e.key.path.Z().rt();if(e instanceof nl){var s=function(t,e){return{name:hf(t,e.key),fields:e.vt().mapValue.fields,updateTime:sf(t,e.version.G())}}(t.Ms,e),o=e.hasCommittedMutations;return new ud(null,null,s,o,r,i)}if(e instanceof rl){var a=e.key.path.rt(),u=Id(e.version);return o=e.hasCommittedMutations,new ud(null,new od(a,u),null,o,r,i)}if(e instanceof il){var c=e.key.path.rt(),l=Id(e.version);return new ud(new ad(c,l),null,null,!0,r,i)}return Ku()}function Td(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Cd(t){var e=new vc(t[0],t[1]);return bc.W(e)}function Id(t){var e=t.G();return new ed(e.seconds,e.nanoseconds)}function xd(t){var e=new vc(t.seconds,t.nanoseconds);return bc.W(e)}function Ad(t,e){for(var n=(e.baseMutations||[]).map(function(e){return _f(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return _f(t.Ms,e)}),o=vc.fromMillis(e.localWriteTimeMs);return new _d(e.batchId,o,n,s)}function jd(t){var e,n,r=xd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?xd(t.lastLimboFreeSnapshotVersion):bc.min();return void 0!==t.query.documents?(Wu(1===(n=t.query).documents.length),e=Dl(Il(pf(n.documents[0])))):e=function(t){return Dl(Sf(t))}(t.query),new Hl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ec.fromBase64String(t.resumeToken))}function kd(t,e){var n,r=Id(e.Mt),i=Id(e.lastLimboFreeSnapshotVersion);n=cl(e.target)?wf(t.Ms,e.target):Ef(t.Ms,e.target);var s=e.resumeToken.toBase64();return new ld(e.targetId,al(e.target),r,s,e.sequenceNumber,i,n)}function Nd(t){var e=Sf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rl(e,e.limit,"L"):e}var Pd=function(){function t(){}return t.prototype.Ls=function(t,e){return Dd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:xd(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return Dd(t).put({bundleId:(n=e).id,createTime:Id(uf(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return Rd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Nd(e.bundledQuery),readTime:xd(e.readTime)};var e})},t.prototype.qs=function(t,e){return Rd(t).put(function(t){return{name:t.name,readTime:Id(uf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Dd(t){return bd(t,md.store)}function Rd(t){return bd(t,gd.store)}var Ld=function(){function t(){this.Us=new Fd}return t.prototype.Qs=function(t,e){return this.Us.add(e),Lf.resolve()},t.prototype.Ks=function(t,e){return Lf.resolve(this.Us.getEntries(e))},t}(),Fd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new jh(wc.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jh(wc.J)).rt()},t}(),Vd=function(){function t(){this.Ws=new Fd}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var s={collectionId:r,parent:Zf(i)};return Md(t).put(s)}return Lf.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[tc(e),""],!1,!0);return Md(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(td(s.parent))}return n})},t}();function Md(t){return bd(t,dd.store)}var Ud={js:!1,Gs:0,zs:0,Hs:0},qd=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function Hd(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){if(t.code!==nc.FAILED_PRECONDITION||t.message!==Jf)throw t;return zu("LocalStore","Unexpectedly lost primary lease"),[2]})})}qd.ti=10,qd.ei=1e3,qd.ni=new qd(41943040,qd.ti,qd.ei),qd.si=new qd(-1,0,0);var zd=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ri(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Cc(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return Ic(this.oi)},t}(),Bd=function(){function t(){this.ci=new zd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:bc.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?Lf.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function $d(t,e,n){var r=t.store(id.store),i=t.store(sd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Wu(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=sd.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Lf.$n(s).next(function(){return c})}function Gd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ku();e=t.noDocument}return JSON.stringify(e).length}var Kd=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return Wu(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jd(t).ls({index:id.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,s=Qd(t),o=Jd(t);return o.add({}).next(function(a){Wu("number"==typeof a);for(var u=new _d(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return bf(t.Ms,e)}),i=n.mutations.map(function(e){return bf(t.Ms,e)});return new id(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new jh(function(t,e){return Yu(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],m=sd.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(m,sd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=u.keys()}),Lf.$n(l).next(function(){return u})})},t.prototype.gi=function(t,e){var n=this;return Jd(t).get(e).next(function(t){return t?(Wu(t.userId===n.userId),Ad(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?Lf.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Jd(t).ls({index:id.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Wu(e.batchId>=r),s=Ad(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jd(t).ls({index:id.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jd(t).os(id.userMutationsIndex,n).next(function(t){return t.map(function(t){return Ad(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=sd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Qd(t).ls({range:i},function(r,i,o){var a=r[0],u=r[2],c=td(r[1]);if(a===n.userId&&e.path.isEqual(c))return Jd(t).get(u).next(function(t){if(!t)throw Ku();Wu(t.userId===n.userId),s.push(Ad(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Di=function(t,e){var n=this,r=new jh(Yu),i=[];return e.forEach(function(e){var s=sd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Qd(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],u=td(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Lf.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,s=sd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new jh(Yu);return Qd(t).ls({range:o},function(t,e,s){var o=t[0],u=t[2],c=td(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Jd(t).get(e).next(function(t){if(null===t)throw Ku();Wu(t.userId===n.userId),r.push(Ad(n.Kt,t))}))}),Lf.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return $d(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),Lf.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return Lf.resolve();var r=IDBKeyRange.lowerBound(sd.prefixForUser(e.userId)),i=[];return Qd(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=td(t[1]);i.push(s)}else r.done()}).next(function(){Wu(0===i.length)})})},t.prototype.Mi=function(t,e){return Wd(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Zd(t).get(this.userId).next(function(t){return t||new rd(e.userId,-1,"")})},t}();function Wd(t,e,n){var r=sd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Qd(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Jd(t){return bd(t,id.store)}function Qd(t){return bd(t,sd.store)}function Zd(t){return bd(t,rd.store)}var Yd=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Xd=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new Yd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return bc.W(new vc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return tp(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return Wu(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return tp(t).ls(function(o,a){var u=jd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Xi(t,u)))}).next(function(){return Lf.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return tp(t).ls(function(t,n){var r=jd(n);e(r)})},t.prototype.Qi=function(t){return ep(t).get(fd.key).next(function(t){return Wu(null!==t),t})},t.prototype.Ki=function(t,e){return ep(t).put(fd.key,e)},t.prototype.Hi=function(t,e){return tp(t).put(kd(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=al(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tp(t).ls({range:r,index:ld.queryTargetsIndexName},function(t,n,r){var s=jd(n);ul(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],s=np(t);return e.forEach(function(e){var o=Zf(e.path);i.push(s.put(new hd(n,o))),i.push(r.mi.ir(t,n,e))}),Lf.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=np(t);return Lf.forEach(e,function(e){var s=Zf(e.path);return Lf.$n([i.delete([n,s]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=np(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=np(t),i=Uh();return r.ls({range:n,hs:!0},function(t,e,n){var r=td(t[1]),s=new Oc(r);i=i.add(s)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=Zf(e.path),r=IDBKeyRange.bound([n],[tc(n)],!1,!0),i=0;return np(t).ls({index:hd.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return tp(t).get(e).next(function(t){return t?jd(t):null})},t}();function tp(t){return bd(t,ld.store)}function ep(t){return bd(t,fd.store)}function np(t){return bd(t,hd.store)}function rp(t,e){var n=t[1],r=e[1],i=Yu(t[0],e[0]);return 0===i?Yu(n,r):i}var ip=function(){function t(t){this.ur=t,this.buffer=new jh(rp),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();rp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),sp=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;zu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object(Uu.b)(e,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return qf(e=n.sent())?(zu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Hd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),op=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return Lf.resolve(yc.U);var r=new ip(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(zu("LruGarbageCollector","Garbage collection skipped; disabled"),Lf.resolve(Ud)):this.vr(t).next(function(r){return r<n.params.Js?(zu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),Ud):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>c.params.Xs?(zu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,s=Date.now(),c.gr(t,r)}).next(function(r){return n=r,o=Date.now(),c.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.pr(t,n)}).next(function(t){return u=Date.now(),Hu()<=Li.a.DEBUG&&zu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Lf.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),ap=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new op(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return up(t,n)},t.prototype.cr=function(t,e,n){return up(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return up(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Zd(t)._s(function(r){return Wd(t,r,e).next(function(t){return t&&(n=!0),Lf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],s=0;return this.Nr(t,function(o,a){if(a<=e){var u=n.Fr(t,o).next(function(e){if(!e)return s++,r.di(t,o).next(function(){return r.fi(o),np(t).delete([0,Zf(o.path)])})});i.push(u)}}).next(function(){return Lf.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return up(t,e)},t.prototype.Nr=function(t,e){var n,r=np(t),i=yc.U;return r.ls({index:hd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==yc.U&&e(new Oc(td(n)),i),i=o,n=s):i=yc.U}).next(function(){i!==yc.U&&e(new Oc(td(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function up(t,e){return np(t).put(function(t,e){return new hd(0,Zf(t.path),e)}(e,t.Ss))}var cp=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return fp(t).put(dp(e),n)},t.prototype.fi=function(t,e){var n=fp(t),r=dp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return fp(t).get(dp(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return fp(t).get(dp(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:Gd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Dh();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=Dh(),i=new Ih(Oc.J);return this.Ur(t,e,function(t,e){var s=n.Br(e);s?(r=r.Ht(t,s),i=i.Ht(t,Gd(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return Lf.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return fp(t).ls({range:r},function(t,e,r){for(var o=Oc.Tt(t);s&&Oc.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=Lh(),s=e.path.length+1,o={};if(n.isEqual(bc.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Td(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ud.collectionReadTimeIndex}return fp(t).ls(o,function(t,n,o){if(t.length===s){var a=Sd(r.Kt,n);e.path.st(a.key.path)?a instanceof nl&&Ml(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new lp(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return hp(t).get(cd.key).next(function(t){return Wu(!!t),t})},t.prototype.$r=function(t,e){return hp(t).put(cd.key,e)},t.prototype.Br=function(t){if(t){var e=Sd(this.Kt,t);return e instanceof rl&&e.version.isEqual(bc.min())?null:e}return null},t}(),lp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new zd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Uu.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new jh(function(t,e){return Yu(t.ot(),e.ot())});return this.ci.forEach(function(s,o){var a=e.Hr.get(s);if(o._i){var u=Od(e.zr.Kt,o._i,e.ui(s));i=i.add(s.path.Z());var c=Gd(u);r+=c-a,n.push(e.zr.hi(t,s,u))}else if(r-=a,e.Gr){var l=Od(e.zr.Kt,new rl(s,bc.min()),e.ui(s));n.push(e.zr.hi(t,s,l))}else n.push(e.zr.fi(t,s))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),Lf.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(Bd);function hp(t){return bd(t,cd.store)}function fp(t){return bd(t,ud.store)}function dp(t){return t.path.rt()}var pp=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Wu(n<r&&n>=0&&r<=11);var s=new Ff("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(nd.store)}(t),function(t){t.createObjectStore(rd.store,{keyPath:rd.keyPath}),t.createObjectStore(id.store,{keyPath:id.keyPath,autoIncrement:!0}).createIndex(id.userMutationsIndex,id.userMutationsKeyPath,{unique:!0}),t.createObjectStore(sd.store)}(t),mp(t),function(t){t.createObjectStore(ud.store)}(t));var o=Lf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(hd.store),t.deleteObjectStore(ld.store),t.deleteObjectStore(fd.store)}(t),mp(t)),o=o.next(function(){return function(t){var e=t.store(fd.store),n=new fd(0,0,bc.min().G(),0);return e.put(fd.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(id.store).os().next(function(n){t.deleteObjectStore(id.store),t.createObjectStore(id.store,{keyPath:id.keyPath,autoIncrement:!0}).createIndex(id.userMutationsIndex,id.userMutationsKeyPath,{unique:!0});var r=e.store(id.store),i=n.map(function(t){return r.put(t)});return Lf.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(pd.store,{keyPath:pd.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Jr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(cd.store)}(t),i.Yr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Xr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Zr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ud.store);e.createIndex(ud.readTimeIndex,ud.readTimeIndexPath,{unique:!1}),e.createIndex(ud.collectionReadTimeIndex,ud.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.eo(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(md.store,{keyPath:md.keyPath})}(t),function(t){t.createObjectStore(gd.store,{keyPath:gd.keyPath})}(t)})),o},t.prototype.Yr=function(t){var e=0;return t.store(ud.store).ls(function(t,n){e+=Gd(n)}).next(function(){var n=new cd(e);return t.store(cd.store).put(cd.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(rd.store),r=t.store(id.store);return n.os().next(function(n){return Lf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(id.userMutationsIndex,i).next(function(r){return Lf.forEach(r,function(r){Wu(r.userId===n.userId);var i=Ad(e.Kt,r);return $d(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(hd.store),n=t.store(ud.store);return t.store(fd.store).get(fd.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new wc(n),o=function(t){return[0,Zf(t)]}(s);r.push(e.get(o).next(function(n){return n?Lf.resolve():function(n){return e.put(new hd(0,Zf(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Lf.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore(dd.store,{keyPath:dd.keyPath});var n=e.store(dd.store),r=new Fd,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Zf(i)})}};return e.store(ud.store).ls({hs:!0},function(t,e){var n=new wc(t);return i(n.Z())}).next(function(){return e.store(sd.store).ls({hs:!0},function(t,e){var n=td(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store(ld.store);return n.ls(function(t,r){var i=jd(r),s=kd(e.Kt,i);return n.put(s)})},t}();function mp(t){t.createObjectStore(hd.store,{keyPath:hd.keyPath}).createIndex(hd.documentTargetsIndex,hd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ld.store,{keyPath:ld.keyPath}).createIndex(ld.queryTargetsIndexName,ld.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(fd.store)}var gp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yp=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=s,this.window=o,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new rc(nc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new ap(this,i),this._o=n+"main",this.Kt=new Ed(u),this.fo=new Vf(this._o,11,new pp(this.Kt)),this.wo=new Xd(this.mi,this.Kt),this.Ii=new Vd,this.Eo=function(t,e){return new cp(t,e)}(this.Kt,this.Ii),this.To=new Pd,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&Bu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new rc(nc.FAILED_PRECONDITION,gp);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new yc(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(Uu.b)(e,void 0,void 0,function(){return Object(Uu.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object(Uu.b)(e,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(Uu.b)(e,void 0,void 0,function(){return Object(Uu.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return bp(e).put(new pd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(qf(e))return zu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return zu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return vp(t).get(nd.key).next(function(t){return Lf.resolve(e.xo(t))})},t.prototype.No=function(t){return bp(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=bd(t,pd.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Lf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?Lf.resolve(!0):vp(t).get(nd.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new rc(nc.FAILED_PRECONDITION,gp);return!1}}return!(!e.networkEnabled||!e.inForeground)||bp(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&zu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t=this;return Object(Uu.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[nd.store,pd.store],function(e){var n=new vd(e,yc.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return bp(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return Kd.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return zu("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",yd,function(s){return r=new vd(s,i.ro?i.ro.next():yc.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw Bu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new rc(nc.FAILED_PRECONDITION,Jf);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return vp(t).get(nd.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new rc(nc.FAILED_PRECONDITION,gp)})},t.prototype.Co=function(t){var e=new nd(this.clientId,this.allowTabSynchronization,Date.now());return vp(t).put(nd.key,e)},t.Wn=function(){return Vf.Wn()},t.prototype.Do=function(t){var e=this,n=vp(t);return n.get(nd.key).next(function(t){return e.xo(t)?(zu("IndexedDbPersistence","Releasing primary lease."),n.delete(nd.key)):Lf.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Bu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return zu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Bu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){Bu("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function vp(t){return bd(t,nd.store)}function bp(t){return bd(t,pd.store)}function _p(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var wp=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Dh();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),s=Ph();return i.forEach(function(t,e){e||(e=new rl(t,bc.min())),s=s.Ht(t,e)}),s})},t.prototype.jr=function(t,e,n){return function(t){return Oc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Nl(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Oc(e)).next(function(t){var e=Lh();return t instanceof nl&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=Lh();return this.Ii.Ks(t,i).next(function(o){return Lf.forEach(o,function(o){var a=function(t,e){return new Tl(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,s.Ho.xi(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=lh(u,l,l,s.Ds);r=h instanceof nl?r.Ht(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ml(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=Uh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof mh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof nl&&(c=c.Ht(t,e))}),c})},t}(),Ep=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Uh(),i=Uh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Sp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(bc.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(xl(e)||Al(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(Hu()<=Li.a.DEBUG&&zu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vl(e)),i.uc.jr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new jh(Ul(t));return e.forEach(function(e,r){r instanceof nl&&Ml(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Hu()<=Li.a.DEBUG&&zu("QueryEngine","Using full collection scan to execute query:",Vl(e)),this.uc.jr(t,e,bc.min())},t}(),Op=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Ih(Yu),this.wc=new zd(function(t){return al(t)},ul),this.Ec=bc.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new wp(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function Tp(t,e,n,r){return new Op(t,e,n,r)}function Cp(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Uu.d)(this,function(o){switch(o.label){case 0:return n=Ju(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.vi(t).next(function(o){return s=o,r=n.persistence.Wo(e),i=new wp(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],o=Uh(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function Ip(t,e){var n=Ju(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Lf.resolve();return s.forEach(function(t){o=o.next(function(){return r.di(e,t)}).next(function(e){var s=e,o=n.ks.get(t);Wu(null!==o),(!s||s.version.u(o)<0)&&(s=i.Cs(t,s,n))&&r.hi(s,n.Os)})}),o.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function xp(t){var e=Ju(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function Ap(t,e){var n=Ju(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Or({Gr:!0});i=n.dc;var o=[];e.Oe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.wo.rr(t,e.Ke,s).next(function(){return n.wo.sr(t,e.Ue,s)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(s,c),function(t,e,n){return Wu(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.wo.Yi(t,c))}}});var a=Ph();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.mi.Mr(t,r))}),o.push(jp(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(bc.min())){var u=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});o.push(u)}return Lf.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function jp(t,e,n,r,i){var s=Uh();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Ph();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof rl&&o.version.isEqual(bc.min())?(e.fi(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.hi(o,u),s=s.Ht(n,o)):zu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function kp(t,e){var n=Ju(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function Np(t,e){var n=Ju(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?Lf.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new Hl(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function Pp(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Uu.d)(this,function(a){switch(a.label){case 0:r=Ju(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!qf(o=a.sent()))throw o;return zu("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Dp(t,e,n){var r=Ju(t),i=bc.min(),s=Uh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ju(t),i=r.wc.get(n);return void 0!==i?Lf.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,Dl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.jr(t,e,n?i:bc.min(),n?s:Uh())}).next(function(t){return{documents:t,Pc:s}})})}function Rp(t,e){var n=Ju(t),r=Ju(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function Lp(t){var e=Ju(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ju(t),i=Ph(),s=Td(n),o=fp(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:ud.readTimeIndex,range:a},function(t,e){var n=Sd(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{gs:i,readTime:Cd(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function Fp(t){return Object(Uu.b)(this,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){return[2,(e=Ju(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=fp(t),n=bc.min();return e.ls({index:ud.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Cd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function Vp(t,e,n,r){return Object(Uu.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(Uu.d)(this,function(p){switch(p.label){case 0:for(i=Ju(t),s=Uh(),o=Ph(),a=Vh(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,Np(i,function(t){return Dl(Il(wc.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return jp(t,f,o,bc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.wo.Zi(t,d.targetId).next(function(){return i.wo.sr(t,s,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Mp(t,e,n){return void 0===n&&(n=Uh()),Object(Uu.b)(this,void 0,void 0,function(){var r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return[4,Np(t,Dl(Nd(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Ju(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=uf(e.readTime);if(r.Mt.u(s)>=0)return i.To.qs(t,e);var o=r.$t(ec.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.wo.Yi(t,o).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var Up=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return Lf.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:uf(n.createTime)}),Lf.resolve()},t.prototype.Bs=function(t,e){return Lf.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Nd(t.bundledQuery),readTime:uf(t.readTime)}}(e)),Lf.resolve()},t}(),qp=function(){function t(){this.Sc=new jh(Hp.Dc),this.Cc=new jh(Hp.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Hp(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new Hp(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Oc(new wc([])),r=new Hp(n,t),i=new Hp(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Oc(new wc([])),n=new Hp(e,t),r=new Hp(e,t+1),i=Uh();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new Hp(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Hp=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Oc.J(t.key,e.key)||Yu(t.$c,e.$c)},t.xc=function(t,e){return Yu(t.$c,e.$c)||Oc.J(t.key,e.key)},t}(),zp=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new jh(Hp.Dc)}return t.prototype.Pi=function(t){return Lf.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new _d(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new Hp(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return Lf.resolve(s)},t.prototype.gi=function(t,e){return Lf.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Lf.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return Lf.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return Lf.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Hp(e,0),i=new Hp(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),Lf.resolve(s)},t.prototype.Di=function(t,e){var n=this,r=new jh(Yu);return e.forEach(function(t){var e=new Hp(t,0),i=new Hp(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Lf.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Oc.Et(i)||(i=i.child(""));var s=new Hp(new Oc(i),0),o=new jh(Yu);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),Lf.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;Wu(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Lf.forEach(e.mutations,function(i){var s=new Hp(i.key,e.batchId);return r=r.delete(s),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Hp(e,0),r=this.qc.Pe(n);return Lf.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return Lf.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Bp=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Ih(Oc.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:o,readTime:n}),this.size+=o-s,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return Lf.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=Dh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),Lf.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Lh(),i=new Oc(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a._i,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof nl&&Ml(e,u)&&(r=r.Ht(u.key,u))}return Lf.resolve(r)},t.prototype.Gc=function(t,e){return Lf.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new $p(this)},t.prototype.Lr=function(t){return Lf.resolve(this.size)},t}(),$p=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(Uu.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),Lf.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(Bd),Gp=function(){function t(t){this.persistence=t,this.zc=new zd(function(t){return al(t)},ul),this.lastRemoteSnapshotVersion=bc.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new qp,this.targetCount=0,this.Yc=Yd.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Lf.resolve()},t.prototype.Wi=function(t){return Lf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Lf.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),Lf.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Lf.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Yd(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,Lf.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),Lf.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Lf.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Zi(t,a.targetId)),i++)}),Lf.$n(s).next(function(){return i})},t.prototype.er=function(t){return Lf.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return Lf.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),Lf.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),Lf.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),Lf.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return Lf.resolve(n)},t.prototype.Mi=function(t,e){return Lf.resolve(this.Jc.Mi(e))},t}(),Kp=function(){function t(t,e){var n=this;this.Xc={},this.ro=new yc(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new Gp(this),this.Ii=new Ld,this.Eo=function(t,e){return new Bp(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new Ed(e),this.To=new Up(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new zp(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;zu("MemoryPersistence","Starting transaction:",t);var i=new Wp(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return Lf.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),Wp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(Uu.c)(e,t),e}(Qf),Jp=function(){function t(t){this.persistence=t,this.sa=new qp,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ku()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),Lf.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),Lf.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Lf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return Lf.forEach(this.oa,function(r){var i=Oc.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Lf.Bn([function(){return Lf.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Qp(t,e){return"firestore_clients_"+t+"_"+e}function Zp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Yp(t,e){return"firestore_targets_"+t+"_"+e}var Xp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new rc(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Bu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new rc(r.error.code,r.error.message)),i?new t(e,r.state,s):(Bu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),em=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Hh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vc(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Bu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),nm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Bu("SharedClientState","Failed to parse online state: "+e),null)},t}(),rm=function(){function t(){this.activeTargetIds=Hh()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),im=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Ih(Yu),this.Ir=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Qp(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new rm),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Uu.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Qp(this.persistenceKey,r)))&&(s=em.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Yp(this.persistenceKey,t));if(n){var r=tm.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Yp(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return zu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){zu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){zu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(zu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Bu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object(Uu.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Uu.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=yc.U;if(null!=t)try{var n=JSON.parse(t);Wu("number"==typeof n),e=n}catch(t){Bu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==yc.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Xp(this.currentUser,t,e,n),i=Zp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Zp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Yp(this.persistenceKey,t),i=new tm(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return em.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Xp.aa(new hc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return tm.aa(r,e)},t.prototype.ba=function(t){return nm.aa(t)},t.prototype.Xa=function(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(zu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Hh();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),sm=function(){function t(){this.ru=new rm,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new rm,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),om=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),am=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){zu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){zu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),um={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cm=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),lm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Uu.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new Mu;o.listenOnce(Lu.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Ru.NO_ERROR:var e=o.getResponseJson();zu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ru.TIMEOUT:zu("Connection",'RPC "'+t+'" timed out'),s(new rc(nc.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:var n=o.getStatus();if(zu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(nc).indexOf(e)>=0?e:nc.UNKNOWN}(r.status);s(new rc(a,r.message))}else s(new rc(nc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new rc(nc.UNAVAILABLE,"Connection failed."));break;default:Ku()}}finally{zu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ju,i=Po(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(Fi.l)()||Object(Fi.n)()||Object(Fi.j)()||Object(Fi.k)()||Object(Fi.o)()||Object(Fi.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");zu("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new cm({du:function(t){c?zu("Connection","Not sending because WebChannel is closed:",t):(u||(zu("Connection","Opening WebChannel transport."),a.open(),u=!0),zu("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Vu.EventType.OPEN,function(){c||zu("Connection","WebChannel transport opened.")}),h(a,Vu.EventType.CLOSE,function(){c||(c=!0,zu("Connection","WebChannel transport closed"),l.Pu())}),h(a,Vu.EventType.ERROR,function(t){c||(c=!0,$u("Connection","WebChannel transport errored:",t),l.Pu(new rc(nc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Vu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Wu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){zu("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=_h[t];if(void 0!==e)return Ch(e)}(i),o=r.message;void 0===s&&(s=nc.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new rc(s,o)),a.close()}else zu("Connection","WebChannel received:",n),l.yu(n)}}),h(i,Fu.STAT_EVENT,function(t){10===t.stat?zu("Connection","Detected buffering proxy"):11===t.stat&&zu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);zu("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return zu("RestConnection","Received: ",t),t},function(e){throw $u("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+um[t]},t}());function hm(){return"undefined"!=typeof window?window:null}function fm(){return"undefined"!=typeof document?document:null}function dm(t){return new rf(t,!0)}var pm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&zu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),mm=function(){function t(t,e,n,r,i,s){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new pm(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===nc.RESOURCE_EXHAUSTED?(Bu(e.toString()),Bu("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===nc.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new rc(nc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Uu.b)(t,void 0,void 0,function(){return Object(Uu.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return zu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(zu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),gm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(Uu.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ku()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Wu(void 0===e||"string"==typeof e),ec.fromBase64String(e||"")):(Wu(void 0===e||e instanceof Uint8Array),ec.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?nc.UNKNOWN:Ch(t.code);return new rc(e,t.message||"")}(a);n=new Qh(r,i,s,o||null)}else if("documentChange"in e){i=ff(t,(r=e.documentChange).document.name),s=uf(r.document.updateTime);var a=new Yc({mapValue:{fields:r.document.fields}}),u=(o=new nl(i,s,a,{}),r.targetIds||[]);n=new Wh(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=ff(t,(r=e.documentDelete).document),s=r.readTime?uf(r.readTime):bc.min(),a=new rl(i,s),n=new Wh([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=ff(t,(r=e.documentRemove).document),n=new Wh([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ku();var c=e.filter;i=new Oh(r=c.count||0),n=new Jh(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return bc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?bc.min():e.readTime?uf(e.readTime):bc.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=mf(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=cl(r)?{documents:wf(t,r)}:{query:Ef(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=of(t,e.resumeToken):e.Mt.u(bc.min())>0&&(n.readTime=sf(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ku()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=mf(this.Kt),e.removeTarget=t,this.eh(e)},e}(mm),ym=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(Uu.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Wu(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Wu(void 0!==e),t.map(function(t){return function(t,e){var n=uf(t.updateTime?t.updateTime:e);n.isEqual(bc.min())&&(n=uf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new sh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=uf(t.commitTime);return this.listener.wh(n,e)}return Wu(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=mf(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return bf(e.Kt,t)})};this.eh(n)},e}(mm),vm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Uu.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new rc(nc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===nc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===nc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),bm=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Bu(e),this.Ph=!1):zu("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),_m=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Uu.b)(s,void 0,void 0,function(){return Object(Uu.d)(this,function(t){switch(t.label){case 0:return Am(this)?(zu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Uu.b)(this,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return(e=Ju(t)).Fh.add(4),[4,Em(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,wm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new bm(n,r)};function wm(t){return Object(Uu.b)(this,void 0,void 0,function(){var e,n;return Object(Uu.d)(this,function(r){switch(r.label){case 0:if(!Am(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Em(t){return Object(Uu.b)(this,void 0,void 0,function(){var e,n;return Object(Uu.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Sm(t,e){var n=Ju(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),xm(n)?Im(n):Bm(n).Ju()&&Tm(n,e))}function Om(t,e){var n=Ju(t),r=Bm(n);n.Nh.delete(e),r.Ju()&&Cm(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Am(n)&&n.Mh.set("Unknown"))}function Tm(t,e){t.Lh.cn(e.targetId),Bm(t).hh(e)}function Cm(t,e){t.Lh.cn(e),Bm(t).lh(e)}function Im(t){t.Lh=new Yh({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Bm(t).start(),t.Mh.yh()}function xm(t){return Am(t)&&!Bm(t).Hu()&&t.Nh.size>0}function Am(t){return 0===Ju(t).Fh.size}function jm(t){t.Lh=void 0}function km(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){return t.Nh.forEach(function(e,n){Tm(t,e)}),[2]})})}function Nm(t,e){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(n){return jm(t),xm(t)?(t.Mh.ph(e),Im(t)):t.Mh.set("Unknown"),[2]})})}function Pm(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i,s;return Object(Uu.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Qh&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Uu.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),zu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Dm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Wh?t.Lh.wn(e):e instanceof Jh?t.Lh.yn(e):t.Lh.In(e),n.isEqual(bc.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,xp(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(ec.h,n.Mt)),Cm(t,e);var r=new Hl(n.target,e,1,n.sequenceNumber);Tm(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return zu("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Dm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Dm(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r=this;return Object(Uu.d)(this,function(i){switch(i.label){case 0:if(!qf(e))throw e;return t.Fh.add(1),[4,Em(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return xp(t.Sh)}),t.fs.vo(function(){return Object(Uu.b)(r,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return zu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,wm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Rm(t,e){return e().catch(function(n){return Dm(t,n,e)})}function Lm(t){return Object(Uu.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Uu.d)(this,function(o){switch(o.label){case 0:e=Ju(t),n=$m(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Am(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,kp(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=$m(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Dm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Fm(e)&&Vm(e),[2]}})})}function Fm(t){return Am(t)&&!$m(t).Hu()&&t.xh.length>0}function Vm(t){$m(t).start()}function Mm(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){return $m(t).Th(),[2]})})}function Um(t){return Object(Uu.b)(this,void 0,void 0,function(){var e,n,r;return Object(Uu.d)(this,function(i){for(e=$m(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function qm(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=wd.from(r,e,n),[4,Rm(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,Lm(t)];case 2:return s.sent(),[2]}})})}function Hm(t,e){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(n){switch(n.label){case 0:return e&&$m(t).fh?[4,function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return Th(r=e.code)&&r!==nc.ABORTED?(n=t.xh.shift(),$m(t).Xu(),[4,Rm(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Lm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Fm(t)&&Vm(t),[2]}})})}function zm(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return n=Ju(t),e?(n.Fh.delete(2),[4,wm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Em(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Bm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ju(t);return r.mh(),new gm(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:km.bind(null,t),Iu:Nm.bind(null,t),uh:Pm.bind(null,t)}),t.Oh.push(function(n){return Object(Uu.b)(e,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),xm(t)?Im(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),jm(t),e.label=3;case 3:return[2]}})})})),t.Qh}function $m(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Ju(t);return r.mh(),new ym(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Mm.bind(null,t),Iu:Hm.bind(null,t),Eh:Um.bind(null,t),wh:qm.bind(null,t)}),t.Oh.push(function(n){return Object(Uu.b)(e,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Lm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(zu("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Gm=function(){this.Wh=void 0,this.listeners=[]},Km=function(){this.queries=new zd(function(t){return Fl(t)},Ll),this.onlineState="Unknown",this.jh=new Set};function Wm(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Uu.d)(this,function(c){switch(c.label){case 0:if(n=Ju(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Gm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=Kf(a,"Initialization of query '"+Vl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&Ym(n),[2]}})})}function Jm(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Uu.d)(this,function(a){return n=Ju(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Qm(t,e){for(var n=Ju(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.Wh=o}}r&&Ym(n)}function Zm(t,e,n){var r=Ju(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Ym(t){t.jh.forEach(function(t){t.next()})}var Xm=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new $h(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=$h.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),tg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),eg=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return ff(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?vf(this.Kt,t.document,!1):new rl(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return uf(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new eg(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Uh()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return[4,Vp(this.Sh,new eg(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Mp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wf(Object.assign({},this.progress),t))]}})})}}();var ng=function(t){this.key=t},rg=function(t){this.key=t},ig=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Uh(),this.Ce=Uh(),this.ll=Ul(t),this._l=new zh(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Bh,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=xl(this.query)&&i.size===this.query.limit?i.last():null,c=Al(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof nl?e:null;h&&(h=Ml(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),xl(this.query)||Al(this.query))for(;o.size>this.query.limit;){var l=xl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ku()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new $h(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new Bh,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Uh(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new rg(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new ng(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Uh();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return $h.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),sg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},og=function(t){this.key=t,this.yl=!1},ag=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new zd(function(t){return Fl(t)},Ll),this.Dl=new Map,this.Cl=[],this.xl=new Ih(Oc.J),this.Nl=new Map,this.Fl=new qp,this.Ol={},this.kl=new Map,this.Ml=Yd.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function ug(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Uu.d)(this,function(a){switch(a.label){case 0:return n=Fg(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Np(n.Sh,Dl(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,cg(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&Sm(n.gl,s),a.label=4;case 4:return[2,r]}})})}function cg(t,e,n,r){return Object(Uu.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Uu.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Uu.b)(this,void 0,void 0,function(){var i,s,o;return Object(Uu.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Dp(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Oe.get(e.targetId),o=e.view.Ti(i,t.$l,s),[2,(Eg(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,Dp(t.Sh,e,!0)];case 1:return i=l.sent(),s=new ig(e,i.Pc),o=s.dl(i.documents),a=Kh.Be(n,r&&"Offline"!==t.onlineState),u=s.Ti(o,t.$l,a),Eg(t,n,u.ml),c=new sg(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function lg(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return n=Ju(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!Ll(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Pp(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Om(n.gl,r.targetId),_g(n,r.targetId)}).catch(Hd)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return _g(n,r.targetId),[4,Pp(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function hg(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Uu.d)(this,function(a){switch(a.label){case 0:r=Vg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ju(t),i=vc.now(),s=e.reduce(function(t,e){return t.add(e.key)},Uh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=hh(c,n.get(c.key));null!=l&&o.push(new mh(c.key,l,tl(l.proto.mapValue),oh.exists(!0)))}return r.Ho.yi(t,i,o,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Ih(Yu)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Tg(r,i.ci)];case 3:return a.sent(),[4,Lm(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Kf(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function fg(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r;return Object(Uu.d)(this,function(i){switch(i.label){case 0:n=Ju(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ap(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(Wu(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Wu(r.yl):t.Ke.size>0&&(Wu(r.yl),r.yl=!1))}),[4,Tg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Hd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function dg(t,e,n){var r=Ju(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ju(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&Ym(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function pg(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Uu.d)(this,function(c){switch(c.label){case 0:return(r=Ju(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new Ih(Oc.J)).Ht(s,new rl(s,bc.min())),a=Uh().add(s),u=new Gh(bc.min(),new Map,new jh(Yu),o,a),[4,fg(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Og(r),[3,4];case 2:return[4,Pp(r.Sh,e,!1).then(function(){return _g(r,e,n)}).catch(Hd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function mg(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:n=Ju(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Ip(n.Sh,e)];case 2:return i=s.sent(),bg(n,r,null),vg(n,r),n.pl.Fa(r,"acknowledged"),[4,Tg(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Hd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function gg(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:r=Ju(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Ju(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return Wu(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),bg(r,e,n),vg(r,e),r.pl.Fa(e,"rejected",n),[4,Tg(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Hd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function yg(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Uu.d)(this,function(a){switch(a.label){case 0:Am((n=Ju(t)).gl)||zu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Ju(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=Kf(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function vg(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function bg(t,e,n){var r=Ju(t),i=r.Ol[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function _g(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||wg(t,e)})}function wg(t,e){var n=t.xl.get(e);null!==n&&(Om(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Og(t))}function Eg(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ng?(t.Fl.ir(s.key,e),Sg(t,s)):s instanceof rg?(zu("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.cr(s.key,e),t.Fl.Mi(s.key)||wg(t,s.key)):Ku()}}function Sg(t,e){var n=e.key;t.xl.get(n)||(zu("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Og(t))}function Og(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new og(e)),t.xl=t.xl.Ht(e,n),Sm(t.gl,new Hl(Dl(Il(e.path)),n,2,yc.U))}}function Tg(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Uu.d)(this,function(a){switch(a.label){case 0:return r=Ju(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ep.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Uu.d)(this,function(l){switch(l.label){case 0:n=Ju(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Lf.forEach(e,function(e){return Lf.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return Lf.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!qf(r=l.sent()))throw r;return zu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Cg(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return(n=Ju(t)).currentUser.isEqual(e)?[3,3]:(zu("SyncEngine","User change. New user:",e.R()),[4,Cp(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new rc(nc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Tg(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ig(t,e){var n=Ju(t),r=n.Nl.get(e);if(r&&r.yl)return Uh().add(r.key);var i=Uh(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function xg(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return[4,Dp((n=Ju(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&Eg(n,e.targetId,i.ml),i)]}})})}function Ag(t){return Object(Uu.b)(this,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){return[2,Lp((e=Ju(t)).Sh).then(function(t){return Tg(e,t)})]})})}function jg(t,e,n,r){return Object(Uu.b)(this,void 0,void 0,function(){var i,s;return Object(Uu.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Ju(t),r=Ju(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Lf.resolve(null)})})}((i=Ju(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Lm(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(bg(i,e,r||null),vg(i,e),function(t,e){Ju(Ju(t).Ho).Fi(e)}(i.Sh,e)):Ku(),o.label=4;case 4:return[4,Tg(i,s)];case 5:return o.sent(),[3,7];case 6:zu("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function kg(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Uu.d)(this,function(c){switch(c.label){case 0:return Fg(n=Ju(t)),Vg(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Ng(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,zm(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Sm(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return _g(n,e),Pp(n.Sh,e,!0)}),Om(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,Ng(n,a)];case 5:return c.sent(),function(t){var e=Ju(t);e.Nl.forEach(function(t,n){Om(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new Ih(Oc.J)}(n),n.Ll=!1,[4,zm(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ng(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Uu.d)(this,function(m){switch(m.label){case 0:n=Ju(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,Np(n.Sh,Dl(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,xg(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Rp(n.Sh,a)];case 8:return p=m.sent(),[4,Np(n.Sh,p)];case 9:return u=m.sent(),[4,cg(n,Pg(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Pg(t){return Cl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Dg(t){var e=Ju(t);return Ju(Ju(e.Sh).persistence).Ko()}function Rg(t,e,n,r){return Object(Uu.b)(this,void 0,void 0,function(){var i,s,o;return Object(Uu.d)(this,function(a){switch(a.label){case 0:return(i=Ju(t)).Ll?(zu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Lp(i.Sh)];case 3:return s=a.sent(),o=Gh.$e(e,"current"===n),[4,Tg(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Pp(i.Sh,e,!0)];case 6:return a.sent(),_g(i,e,r),[3,8];case 7:Ku(),a.label=8;case 8:return[2]}})})}function Lg(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Uu.d)(this,function(f){switch(f.label){case 0:if(!(r=Fg(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(zu("SyncEngine","Adding an already active target "+o),[3,5]):[4,Rp(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,Np(r.Sh,a)];case 3:return u=f.sent(),[4,cg(r,Pg(a),u.targetId,!1)];case 4:f.sent(),Sm(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Pp(r.Sh,t,!1).then(function(){Om(r.gl,t),_g(r,t)}).catch(Hd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Fg(t){var e=Ju(t);return e.gl.Ch.Bh=fg.bind(null,e),e.gl.Ch.Sn=Ig.bind(null,e),e.gl.Ch.$h=pg.bind(null,e),e.vl.uh=Qm.bind(null,e.Vl),e.vl.ql=Zm.bind(null,e.Vl),e}function Vg(t){var e=Ju(t);return e.gl.Ch.qh=mg.bind(null,e),e.gl.Ch.Uh=gg.bind(null,e),e}var Mg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return this.Kt=dm(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Tp(this.persistence,new Sp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Kp(Jp.ra,this.Kt)},t.prototype.jl=function(t){return new sm},t.prototype.terminate=function(){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),Ug=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Uu.c)(e,t),e.prototype.initialize=function(e){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Fp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Vg(this.Xl.fa)];case 4:return n.sent(),[4,Lm(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Tp(this.persistence,new Sp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new sp(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=_p(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?qd.Zs(this.cacheSizeBytes):qd.ni;return new yp(this.synchronizeTabs,e,t.clientId,n,t.fs,hm(),fm(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new sm},e}(Mg),qg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Uu.c)(e,t),e.prototype.initialize=function(e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r=this;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof im?(this.pl.fa={nu:jg.bind(null,n),su:Rg.bind(null,n),iu:Lg.bind(null,n),Ko:Dg.bind(null,n),eu:Ag.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object(Uu.b)(r,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return[4,kg(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=hm();if(!im.Wn(e))throw new rc(nc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_p(t.gu.T,t.gu.persistenceKey);return new im(e,t.fs,n,t.clientId,t.Yl)},e}(Ug),Hg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n=this;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return dg(n.fa,t,1)},this.gl.Ch.s_=Cg.bind(null,this.fa),[4,zm(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Km},t.prototype.Zl=function(t){var e=dm(t.gu.T),n=new lm(t.gu);return function(t,e,n){return new vm(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return dg(o.fa,t,0)},s=am.Wn()?new am:new om,new _m(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new ag(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Uu.b)(this,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return e=Ju(t),zu("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Em(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),zg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Bg=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Rf,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new tg(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Uu.b)(this,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new rc(nc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Sc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),$g=function(t){this._methodName=t};function Gg(t,e,n){if(!n)throw new rc(nc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Kg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rc(nc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Wg(t,e,n,r){if(!0===e&&!0===r)throw new rc(nc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Jg(t){if(!Oc.Et(t))throw new rc(nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Qg(t){if(Oc.Et(t))throw new rc(nc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ku()}function Yg(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new rc(nc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zg(t);throw new rc(nc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Xg(t,e){if(e<=0)throw new rc(nc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ty=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new rc(nc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rc(nc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Wg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ey=new Map,ny=function(){function t(t,e){this.w_="(lite)",this.E_=new ty({}),this.T_=!1,t instanceof lc?(this.I_=t,this.m_=new dc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new rc(nc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(t.options.projectId)}(t),this.m_=new pc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new rc(nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new rc(nc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new ty(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new dc;switch(t.type){case"gapi":var e=t.client;return Wu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new gc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new rc(nc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=ey.get(this))&&(zu("ComponentProvider","Removing Datastore"),ey.delete(this),t.terminate()),Promise.resolve();var t},t}(),ry=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sy(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),iy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Il(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Uu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ry(this.firestore,null,new Oc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(iy);function oy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof sc&&(t=t._),Gg("collection","path",e),t instanceof ny)return Qg(n=wc.ct.apply(wc,Object(Uu.g)([e],r))),new sy(t,null,n);if(!(t instanceof ry||t instanceof sy))throw new rc(nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qg(n=wc.ct.apply(wc,Object(Uu.g)([t.path],r)).child(wc.ct(e))),new sy(t.firestore,null,n)}function ay(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof sc&&(t=t._),1===arguments.length&&(e=Zu.t()),Gg("doc","path",e),t instanceof ny)return Jg(n=wc.ct.apply(wc,Object(Uu.g)([e],r))),new ry(t,null,new Oc(n));if(!(t instanceof ry||t instanceof sy))throw new rc(nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Jg(n=t.D_.child(wc.ct.apply(wc,Object(Uu.g)([e],r)))),new ry(t.firestore,t instanceof sy?t.v_:null,new Oc(n))}function uy(t,e){return t instanceof sc&&(t=t._),e instanceof sc&&(e=e._),(t instanceof ry||t instanceof sy)&&(e instanceof ry||e instanceof sy)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function cy(t,e){return t instanceof sc&&(t=t._),e instanceof sc&&(e=e._),t instanceof iy&&e instanceof iy&&t.firestore===e.firestore&&Ll(t.C_,e.C_)&&t.v_===e.v_}var ly=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new rc(nc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new rc(nc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Yu(this.x_,t.x_)||Yu(this.N_,t.N_)},t}(),hy=/^__.*__$/,fy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new mh(t,this.data,this.zt,e,this.fieldTransforms):new ph(t,this.data,e,this.fieldTransforms)},t}(),dy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new mh(t,this.data,this.zt,e,this.fieldTransforms)},t}();function py(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ku()}}var my=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ry(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(py(this.k_)&&hy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),gy=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||dm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new my({k_:t,methodName:e,j_:n,path:Sc.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function yy(t){var e=t.p_(),n=dm(t.I_);return new gy(t.I_,!!e.ignoreUndefinedProperties,n)}function vy(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);ky("Data must be an object, but it was:",o,r);var a,u,c=Ay(r,o);if(s.merge)a=new xc(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Ny(e,f[h],n);if(!o.contains(d))throw new rc(nc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ly(l,d)||l.push(d)}a=new xc(l),u=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=o.fieldTransforms;return new fy(new Yc(c),a,u)}var by=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}($g);function _y(t,e,n){return new my({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var wy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.z_=function(t){return new ih(t.path,new Ql)},e.prototype.isEqual=function(t){return t instanceof e},e}($g),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Uu.c)(e,t),e.prototype.z_=function(t){var e=_y(this,t,!0),n=this.H_.map(function(t){return xy(t,e)}),r=new Zl(n);return new ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($g),Sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Uu.c)(e,t),e.prototype.z_=function(t){var e=_y(this,t,!0),n=this.H_.map(function(t){return xy(t,e)}),r=new Xl(n);return new ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($g),Oy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Uu.c)(e,t),e.prototype.z_=function(t){var e=new eh(t.Kt,$l(t.Kt,this.J_));return new ih(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}($g);function Ty(t,e,n,r){var i=t.G_(1,e,n);ky("Data must be an object, but it was:",i,r);var s=[],o=new Xc;Cc(r,function(t,r){var a=Dy(e,t,n);r instanceof sc&&(r=r._);var u=i.U_(a);if(r instanceof by)s.push(a);else{var c=xy(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new xc(s);return new dy(o.yt(),a,i.fieldTransforms)}function Cy(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[Ny(e,r,n)],u=[i];if(s.length%2!=0)throw new rc(nc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Ny(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Xc,f=a.length-1;f>=0;--f)if(!Ly(l,a[f])){var d=a[f],p=u[f];p instanceof sc&&(p=p._);var m=o.U_(d);if(p instanceof by)l.push(d);else{var g=xy(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new xc(l);return new dy(h.yt(),y,o.fieldTransforms)}function Iy(t,e,n,r){return void 0===r&&(r=!1),xy(n,t.G_(r?4:3,e))}function xy(t,e){if(t instanceof sc&&(t=t._),jy(t))return ky("Unsupported field value:",e,t),Ay(t,e);if(t instanceof $g)return function(t,e){if(!py(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=xy(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof sc&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $l(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=vc.fromDate(t);return{timestampValue:sf(e.Kt,n)}}if(t instanceof vc)return n=new vc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:sf(e.Kt,n)};if(t instanceof ly)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ic)return{bytesValue:of(e.Kt,t.l)};if(t instanceof ry){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:cf(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Zg(t))}(t,e)}function Ay(t,e){var n={};return Ic(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Cc(t,function(t,r){var i=xy(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function jy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof vc||t instanceof ly||t instanceof ic||t instanceof ry||t instanceof $g)}function ky(t,e,n){if(!jy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Zg(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Ny(t,e,n){if(e instanceof sc&&(e=e._),e instanceof Bg)return e.d_;if("string"==typeof e)return Dy(t,e);throw Ry("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Py=new RegExp("[~\\*/\\[\\]]");function Dy(t,e,n){if(e.search(Py)>=0)throw Ry("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Bg.bind.apply(Bg,Object(Uu.g)([void 0],e.split("."))))).d_}catch(r){throw Ry("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ry(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new rc(nc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ly(t,e){return t.some(function(t){return t.isEqual(e)})}var Fy=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Uu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Uu.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new rc(nc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Uu.d)(this,function(u){switch(u.label){case 0:return n=Ju(t),r=mf(n.Kt)+"/documents",i={documents:e.map(function(t){return hf(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Wu(!!e.found);var n=ff(t,e.found.name),r=uf(e.found.updateTime),i=new Yc({mapValue:{fields:e.found.fields}});return new nl(n,r,i,{})}(t,e):"missing"in e?function(t,e){Wu(!!e.missing),Wu(!!e.readTime);var n=ff(t,e.missing),r=uf(e.readTime);return new rl(n,r)}(t,e):Ku()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Wu(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof rl||t instanceof nl?n.sf(t):Ku()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Eh(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Uu.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Oc.ft(n);e.mutations.push(new Sh(r,e.Gt(r)))}),[4,function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return n=Ju(t),r=mf(n.Kt)+"/documents",i={writes:e.map(function(t){return bf(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof nl)e=t.version;else{if(!(t instanceof rl))throw Ku();e=bc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new rc(nc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?oh.updateTime(e):oh.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(bc.min()))throw new rc(nc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oh.updateTime(e)}return oh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Vy=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new pm(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Uu.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Uu.d)(this,function(r){return t=new Fy(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Lc(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Th(e)}return!1},t}(),My=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=hc.UNAUTHENTICATED,this.clientId=Zu.t(),this._f=function(){},this.N=new Rf,this.credentials.S(function(t){zu("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new rc(nc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Rf;return this.fs.Tf(function(){return Object(Uu.b)(t,void 0,void 0,function(){var t,n;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Kf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Uy(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),zu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object(Uu.b)(i,void 0,void 0,function(){return Object(Uu.d)(this,function(t){switch(t.label){case 0:return[4,Cp(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function qy(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Hy(t)];case 1:return n=i.sent(),zu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object(Uu.b)(this,void 0,void 0,function(){var n,r;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return(n=Ju(t)).fs.Af(),zu("RemoteStore","RemoteStore received new credentials"),r=Am(n),n.Fh.add(3),[4,Em(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,wm(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Hy(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(zu("FirestoreClient","Using default OfflineComponentProvider"),[4,Uy(t,new Mg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function zy(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(zu("FirestoreClient","Using default OnlineComponentProvider"),[4,qy(t,new Hg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function By(t){return Hy(t).then(function(t){return t.persistence})}function $y(t){return Hy(t).then(function(t){return t.Sh})}function Gy(t){return zy(t).then(function(t){return t.gl})}function Ky(t){return zy(t).then(function(t){return t.fa})}function Wy(t){return Object(Uu.b)(this,void 0,void 0,function(){var e,n;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return[4,zy(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=ug.bind(null,e.fa),n.Jh=lg.bind(null,e.fa),n)]}})})}function Jy(t,e,n){var r=this;void 0===n&&(n={});var i=new Rf;return t.fs.ys(function(){return Object(Uu.b)(r,void 0,void 0,function(){var r;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new zg({next:function(s){e.ys(function(){return Jm(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new rc(nc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new rc(nc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Xm(Il(n.path),s,{includeMetadataChanges:!0,sl:!0});return Wm(t,o)},[4,Wy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function Qy(t,e,n){var r=this;void 0===n&&(n={});var i=new Rf;return t.fs.ys(function(){return Object(Uu.b)(r,void 0,void 0,function(){var r;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new zg({next:function(n){e.ys(function(){return Jm(t,o)}),n.fromCache&&"server"===r.source?i.reject(new rc(nc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Xm(n,s,{includeMetadataChanges:!0,sl:!0});return Wm(t,o)},[4,Wy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var Zy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new pm(this,"async_queue_retry"),this.vf=function(){var e=fm();e&&zu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=fm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=fm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Uu.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!qf(t=n.sent()))throw t;return zu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Bu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Gf.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ku()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Uu.b)(this,void 0,void 0,function(){var t;return Object(Uu.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Yy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Zy,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Uu.c)(e,t),e.prototype.b_=function(){return this.Lf||tv(this),this.Lf.terminate()},e}(ny);function Xy(t){return t.Lf||tv(t),t.Lf.df(),t.Lf}function tv(t){var e=t.p_(),n=function(t,e,n){return new cc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new My(t.m_,t.Mf,n)}function ev(t,e,n){var r=this,i=new Rf;return t.fs.enqueue(function(){return Object(Uu.b)(r,void 0,void 0,function(){var r;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Uy(t,n)];case 1:return s.sent(),[4,qy(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===nc.FAILED_PRECONDITION||t.code===nc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function nv(t){if(t.R_||t.P_)throw new rc(nc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Mc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Nc(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Ku()}},t.prototype.jf=function(t,e){var n=this,r={};return Cc(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new ly(kc(t.latitude),kc(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Dc(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Rc(t));default:return null}},t.prototype.Bf=function(t){var e=jc(t);return new vc(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=wc.ct(t);Wu(Df(n));var r=new lc(n.get(1),n.get(3)),i=new Oc(n.X(5));return r.isEqual(e)||Bu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),iv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ry(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new sv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(ov("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(iv);function ov(t,e){return"string"==typeof e?Dy(t,e):e instanceof sc?e._.d_:e.d_}function av(t){if(Al(t)&&0===t.Nt.length)throw new rc(nc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uv=function(){};function cv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Uu.c)(e,t),e.prototype.Yf=function(t){var e=yy(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){yv(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(gv(r,t,l[c]));a={arrayValue:{values:u}}}else a=gv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||yv(o,s),a=Iy(n,"where",o,"in"===s||"not-in"===s);var h=ll.create(i,s,a);return function(t,e){if(e.xt()){var n=kl(t);if(null!==n&&!n.isEqual(e.field))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jl(t);null!==r&&vv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new rc(nc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new iy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Tl(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(uv),hv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Uu.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wl(e,n);return function(t,e){if(null===jl(t)){var n=kl(t);null!==n&&vv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new iy(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Tl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(uv),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Uu.c)(e,t),e.prototype.Yf=function(t){return new iy(t.firestore,t.v_,Rl(t.C_,this.nd,this.sd))},e}(uv),dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Uu.c)(e,t),e.prototype.Yf=function(t){var e=mv(t,this.type,this.rd,this.od);return new iy(t.firestore,t.v_,function(t,e){return new Tl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(uv),pv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Uu.c)(e,t),e.prototype.Yf=function(t){var e=mv(t,this.type,this.rd,this.od);return new iy(t.firestore,t.v_,function(t,e){return new Tl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(uv);function mv(t,e,n,r){if(n[0]instanceof sc&&(n[0]=n[0]._),n[0]instanceof iv)return function(t,e,n,r,i){if(!r)throw new rc(nc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Pl(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(Gc(e,r.key));else{var c=r.field(u.field);if(Pc(c))throw new rc(nc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new bl(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=yy(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new rc(nc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Nl(t)&&-1!==c.indexOf("/"))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wc.ct(c));if(!Oc.Et(l))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Oc(l);a.push(Gc(e,h))}else{var f=Iy(n,r,c);a.push(f)}}return new bl(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function gv(t,e,n){if(n instanceof sc&&(n=n._),"string"==typeof n){if(""===n)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nl(e)&&-1!==n.indexOf("/"))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wc.ct(n));if(!Oc.Et(r))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Gc(t,new Oc(r))}if(n instanceof ry)return Gc(t,n.S_);throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zg(n)+".")}function yv(t,e){if(!Array.isArray(t)||0===t.length)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vv(t,e,n){if(!n.isEqual(e))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function bv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function _v(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var wv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Uu.c)(e,t),e.prototype.Uf=function(t){return new ic(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ry(this.firestore,null,e)},e}(rv),Ev=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Sv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Uu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Ov(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(ov("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(iv),Ov=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Sv),Tv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Ev(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Ov(n.zf,n.Hf,r.key,r,new Ev(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new rc(nc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Ov(t.zf,t.Hf,e.doc.key,e.doc,new Ev(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ov(t.zf,t.Hf,e.doc.key,e.doc,new Ev(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Cv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function Cv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ku()}}function Iv(t,e){return t instanceof Sv&&e instanceof Sv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Tv&&e instanceof Tv&&t.zf===e.zf&&cy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var xv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Uu.c)(e,t),e.prototype.Uf=function(t){return new ic(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ry(this.firestore,null,e)},e}(rv);function Av(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Yg(t,ry);var s=Yg(t.firestore,Yy),o=yy(s);return e instanceof sc&&(e=e._),kv(s,[("string"==typeof e||e instanceof Bg?Cy(o,"updateDoc",t.S_,e,n,r):Ty(o,"updateDoc",t.S_,e)).F_(t.S_,oh.exists(!0))])}function jv(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof sc&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||bv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(bv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ry)c=Yg(t.firestore,Yy),l=Il(t.S_.path),u={next:function(e){i[a]&&i[a](Nv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Yg(t,iy);c=Yg(d.firestore,Yy),l=d.C_;var p=new xv(c);u={next:function(t){i[a]&&i[a](new Tv(c,p,d,t))},error:i[a+1],complete:i[a+2]},av(t.C_)}return function(t,e,n,r){var i=this,s=new zg(r),o=new Xm(e,s,n);return t.fs.ys(function(){return Object(Uu.b)(i,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return e=Wm,[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(Uu.b)(i,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return e=Jm,[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Xy(c),l,h,u)}function kv(t,e){return function(t,e){var n=this,r=new Rf;return t.fs.ys(function(){return Object(Uu.b)(n,void 0,void 0,function(){var n;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return n=hg,[4,Ky(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Xy(t),e)}function Nv(t,e,n){var r=n.docs.get(e.S_),i=new xv(t);return new Sv(t,i,e.S_,r,new Ev(n.hasPendingWrites,n.fromCache),e.v_)}var Pv=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=yy(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Dv(t,this.zf),i=_v(r.v_,e,n),s=vy(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,oh.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=Dv(t,this.zf);return e instanceof sc&&(e=e._),s="string"==typeof e||e instanceof Bg?Cy(this.wd,"WriteBatch.update",o.S_,e,n,r):Ty(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,oh.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Dv(t,this.zf);return this.fd=this.fd.concat(new Eh(e.S_,oh.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new rc(nc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Dv(t,e){if(t instanceof sc&&(t=t._),t.firestore!==e)throw new rc(nc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Rv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Uu.c)(e,t),e.prototype.get=function(e){var n=this,r=Dv(e,this.zf),i=new xv(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Sv(n.zf,i,r.S_,t.Jf,new Ev(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=yy(t)}return t.prototype.get=function(t){var e=this,n=Dv(t,this.zf),r=new wv(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Ku();var i=t[0];if(i instanceof rl)return new iv(e.zf,r,n.S_,null,n.v_);if(i instanceof nl)return new iv(e.zf,r,i.key,i,n.v_);throw Ku()})},t.prototype.set=function(t,e,n){var r=Dv(t,this.zf),i=_v(r.v_,e,n),s=vy(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Dv(t,this.zf);return e instanceof sc&&(e=e._),s="string"==typeof e||e instanceof Bg?Cy(this.wd,"Transaction.update",o.S_,e,n,r):Ty(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=Dv(t,this.zf);return this.Td.delete(e.S_),this},t}()),Lv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){nv(t=Yg(t,Yy));var n=Xy(t),r=t.p_(),i=new Hg;return ev(n,i,new Ug(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){nv(t=Yg(t,Yy));var e=Xy(t),n=t.p_(),r=new Hg;return ev(e,r,new qg(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new rc(nc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Rf;return t.Mf.Tf(function(){return Object(Uu.b)(e,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Uu.b)(this,void 0,void 0,function(){return Object(Uu.d)(this,function(e){switch(e.label){case 0:return Vf.Wn()?[4,Vf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(_p(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),Fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof lc||(i.md=e),i}return Object(Uu.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&$u("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Uu.b)(e,void 0,void 0,function(){var e,n;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return[4,By(t)];case 1:return e=r.sent(),[4,Gy(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=Ju(t);return e.Fh.delete(0),wm(e)}(n))]}})})})}(Xy(Yg(this._,Yy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Uu.b)(e,void 0,void 0,function(){var e,n;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return[4,By(t)];case 1:return e=r.sent(),[4,Gy(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(Uu.b)(this,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return(e=Ju(t)).Fh.add(0),[4,Em(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Xy(Yg(this._,Yy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Wg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Rf;return t.fs.ys(function(){return Object(Uu.b)(e,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(r){switch(r.label){case 0:return e=yg,[4,Ky(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Xy(Yg(this._,Yy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new zg(e);return t.fs.ys(function(){return Object(Uu.b)(n,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ju(t).jh.add(e),e.next()},[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Uu.b)(n,void 0,void 0,function(){var e;return Object(Uu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ju(t).jh.delete(e)},[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Xy(t=Yg(t,Yy)),bv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new rc(nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qv(this,oy(this._,t))}catch(t){throw Hv(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new qv(this,ay(this._,t))}catch(t){throw Hv(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Kv(this,function(t,e){if(t=Yg(t,ny),Gg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rc(nc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new iy(t,null,function(t){return new Tl(wc.at(),t)}(e))}(this._,t))}catch(t){throw Hv(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Rf;return t.fs.ys(function(){return Object(Uu.b)(n,void 0,void 0,function(){var n;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return zy(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new Vy(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Xy(t),function(n){return e(new Rv(t,n))})}(this._,function(n){return t(new Mv(e,n))})},e.prototype.batch=function(){var t=this;return Xy(this._),new Uv(new Pv(this._,function(e){return kv(t._,e)}))},e.prototype.loadBundle=function(t){throw new rc(nc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new rc(nc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(sc),Vv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Uu.c)(e,t),e.prototype.Uf=function(t){return new uc(new ic(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return qv.Ad(e,this.firestore,null)},e}(rv),Mv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Uu.c)(e,t),e.prototype.get=function(t){var e=this,n=Zv(t);return this._.get(n).then(function(t){return new $v(e.zf,t)})},e.prototype.set=function(t,e,n){var r=Zv(t);return n?(Kg("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Zv(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Uu.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Zv(t);return this._.delete(e),this},e}(sc),Uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.set=function(t,e,n){var r=Zv(t);return n?(Kg("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Zv(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Uu.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Zv(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(sc),qv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Vv(e),r}return Object(Uu.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new rc(nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ry(n._,r,new Oc(t)))},e.Ad=function(t,n,r){return new e(n,new ry(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qv(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qv(this.firestore,oy(this._,t))}catch(t){throw Hv(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof sc&&(t=t._),t instanceof ry&&uy(this._,t)},e.prototype.set=function(t,e){e=Kg("DocumentReference.set",e);try{return function(t,e,n){t=Yg(t,ry);var r=Yg(t.firestore,Yy),i=_v(t.v_,e,n);return kv(r,[vy(yy(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,oh.Wt())])}(this._,t,e)}catch(t){throw Hv(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Av(this._,t):Av.apply(void 0,Object(Uu.g)([this._,t,e],n))}catch(t){throw Hv(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return kv(Yg((t=this._).firestore,Yy),[new Eh(t.S_,oh.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=zv(e),i=Bv(e,function(e){return new $v(t.firestore,new Sv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return jv(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yg(t,ry);var e=Yg(t.firestore,Yy),n=Xy(e),r=new xv(e);return function(t,e){var n=this,r=new Rf;return t.fs.ys(function(){return Object(Uu.b)(n,void 0,void 0,function(){var n;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i;return Object(Uu.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Ju(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof nl?n.resolve(i):i instanceof rl?n.resolve(null):n.reject(new rc(nc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Kf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,$y(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Sv(e,r,t.S_,n,new Ev(n instanceof nl&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Yg(t,ry);var e=Yg(t.firestore,Yy);return Jy(Xy(e),t.S_,{source:"server"}).then(function(n){return Nv(e,t,n)})}(this._):function(t){t=Yg(t,ry);var e=Yg(t.firestore,Yy);return Jy(Xy(e),t.S_).then(function(n){return Nv(e,t,n)})}(this._)).then(function(t){return new $v(e.firestore,new Sv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(sc);function Hv(t,e,n){return t.message=t.message.replace(e,n),t}function zv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!bv(r))return r}return{}}function Bv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=bv(t[0])?t[0]:bv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $v=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Uu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new qv(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Iv(this._,t._)},e}(sc),Gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}($v),Kv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Vv(e),r}return Object(Uu.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,cv(this._,function(t,e,n){var r=e,i=ov("where",t);return new lv(i,r,n)}(t,n,r)))}catch(t){throw Hv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,cv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=ov("orderBy",t);return new hv(r,n)}(t,n)))}catch(t){throw Hv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,cv(this._,function(t){return Xg("limit",t),new fv("limit",t,"F")}(t)))}catch(t){throw Hv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,cv(this._,function(t){return Xg("limitToLast",t),new fv("limitToLast",t,"L")}(t)))}catch(t){throw Hv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Hv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Hv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Hv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Hv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return cy(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yg(t,iy);var e=Yg(t.firestore,Yy),n=Xy(e),r=new xv(e);return function(t,e){var n=this,r=new Rf;return t.fs.ys(function(){return Object(Uu.b)(n,void 0,void 0,function(){var n;return Object(Uu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Uu.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Uu.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Dp(t,e,!0)];case 1:return a=u.sent(),r=new ig(e,a.Pc),i=r.dl(a.documents),s=r.Ti(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Kf(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,$y(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Tv(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Yg(t,iy);var e=Yg(t.firestore,Yy),n=Xy(e),r=new xv(e);return Qy(n,t.C_,{source:"server"}).then(function(n){return new Tv(e,r,t,n)})}(this._):function(t){t=Yg(t,iy);var e=Yg(t.firestore,Yy),n=Xy(e),r=new xv(e);return av(t.C_),Qy(n,t.C_).then(function(n){return new Tv(e,r,t,n)})}(this._)).then(function(t){return new Jv(e.firestore,new Tv(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=zv(e),i=Bv(e,function(e){return new Jv(t.firestore,new Tv(t.firestore._,t.Hf,t._,e.ud))});return jv(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(sc),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Uu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Gv(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(sc),Jv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Uu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Kv(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Gv(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new Wv(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Gv(n.zf,r))})},e.prototype.isEqual=function(t){return Iv(this._,t._)},e}(sc),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Uu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new qv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new qv(this.firestore,void 0===t?ay(this._):ay(this._,t))}catch(t){throw Hv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Yg(t.firestore,Yy),r=ay(t),i=_v(t.v_,e);return kv(n,[vy(yy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,oh.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new qv(e.firestore,t)})},e.prototype.isEqual=function(t){return uy(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Kv);function Zv(t){return t instanceof sc&&(t=t._),Yg(t,ry)}var Yv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Bg.bind.apply(Bg,Object(Uu.g)([void 0],e))))||this}return Object(Uu.c)(e,t),e.documentId=function(){return new e(Sc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof sc&&(t=t._),t instanceof Bg&&this._.d_.isEqual(t.d_)},e}(sc),Xv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Uu.c)(e,t),e.serverTimestamp=function(){var t=new wy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new by("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ey("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sy("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Oy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(sc);!function(){function t(){this.Pd={},this.yd=new Rf,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var tb,eb=n("/6Yf"),nb={Firestore:Fv,GeoPoint:ly,Timestamp:vc,Blob:uc,Transaction:Mv,WriteBatch:Uv,DocumentReference:qv,DocumentSnapshot:$v,Query:Kv,QueryDocumentSnapshot:Gv,QuerySnapshot:Jv,CollectionReference:Qv,FieldPath:Yv,FieldValue:Xv,setLogLevel:function(t){qu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new eb.a("firestore",function(t){return function(t,e){return new Fv(t,new Yy(t,e),new Lv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},nb)))})(tb=Ri.a),tb.registerVersion("@firebase/firestore","2.1.1");var rb=n("VRyK"),ib=n("qgXg"),sb=n("Ylt2");class ob extends xt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new ab(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new At.a;if(this.isStopped||this.hasError?s=Ae.a.EMPTY:(this.observers.push(t),s=new sb.a(this,t)),r&&t.add(t=new Ni.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||ib.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class ab{constructor(t,e){this.time=t,this.value=e}}function ub(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new ob(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function cb(t,e){return e?he(()=>t,e):he(()=>t)}var lb=n("tf+s");const hb=new r.q("angularfire2.auth.use-emulator"),fb=new r.q("angularfire2.auth.settings"),db=new r.q("angularfire2.auth.tenant-id"),pb=new r.q("angularfire2.auth.langugage-code"),mb=new r.q("angularfire2.auth.use-device-language"),gb=new r.q("angularfire.auth.persistence");let yb=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Pi.d(i),f=Object(Pi.h)(h),d=new xt.a,p=Object(Ct.a)(void 0).pipe(Object(Ni.b)(h.outsideAngular),he(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Gt.a)(()=>Object(Pi.g)(t,i,e)),Object(Gt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Pi.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ub({bufferSize:1,refCount:!1}));if($(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ct.a)(null);else{p.pipe(Ie()).subscribe();const t=p.pipe(he(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ub({bufferSize:1,refCount:!1})),e=t=>new Ft.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(he(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(he(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(cb(n),Object(lb.a)(h.outsideAngular),Object(Ni.b)(h.insideAngular)),this.user=t.pipe(cb(r),Object(lb.a)(h.outsideAngular),Object(Ni.b)(h.insideAngular)),this.idToken=this.user.pipe(he(t=>t?Object(It.a)(t.getIdToken()):Object(Ct.a)(null))),this.idTokenResult=this.user.pipe(he(t=>t?Object(It.a)(t.getIdTokenResult()):Object(Ct.a)(null))),this.credential=Object(rb.a)(t,d,this.authState.pipe(Jt(t=>!t))).pipe(Object(Gt.a)(t=>(null==t?void 0:t.user)?t:null),Object(lb.a)(h.outsideAngular),Object(Ni.b)(h.insideAngular))}return Object(Pi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Pi.c),r.Sb(Pi.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(hb,8),r.Sb(fb,8),r.Sb(db,8),r.Sb(pb,8),r.Sb(mb,8),r.Sb(gb,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Pi.c),Object(r.Sb)(Pi.b,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(hb,8),Object(r.Sb)(fb,8),Object(r.Sb)(db,8),Object(r.Sb)(pb,8),Object(r.Sb)(mb,8),Object(r.Sb)(gb,8))},token:t,providedIn:"any"}),t})();function vb(t,e){return function(t,e=Ci.a){return new Ft.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function bb(t,e){return vb(t,e).pipe(Object(Gt.a)(t=>({payload:t,type:"query"})))}function _b(t,e){return bb(t,e).pipe(ve(void 0),Ii(),Object(Gt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function wb(t,e,n){return _b(t,n).pipe(be((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Eb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Eb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Eb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ji(void 0,void 0)),Object(Gt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Eb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Sb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Pi.e)(yb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Ob{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=_b(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ve(void 0),Ii(),Jt(([t,e])=>e.length>0||!t),Object(Gt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(be((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Sb(t);return wb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return bb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Ni.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Tb(this.ref.doc(t),this.afs)}}class Tb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=kb(n,e);return new Ob(r,i,this.afs)}snapshotChanges(){return vb(this.ref,this.afs.schedulers.outsideAngular).pipe(ve(void 0),Ii(),Object(Gt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Gt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(It.a)(this.ref.get(t)).pipe(Object(Ni.b)(this.afs.schedulers.insideAngular))}}class Cb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?_b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jt(t=>t.length>0),this.afs.keepUnstableUntilFirst):_b(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(be((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Sb(t);return wb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return bb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Ni.b)(this.afs.schedulers.insideAngular))}}const Ib=new r.q("angularfire2.enableFirestorePersistence"),xb=new r.q("angularfire2.firestore.persistenceSettings"),Ab=new r.q("angularfire2.firestore.settings"),jb=new r.q("angularfire2.firestore.use-emulator");function kb(t,e=(t=>t)){return{query:e(t),ref:t}}let Nb=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Pi.d(s),this.keepUnstableUntilFirst=Object(Pi.h)(this.schedulers);const c=Object(Pi.g)(t,s,e);!Di.a.auth&&u&&Object(Pi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Pi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!$(i)){const e=()=>{try{return Object(It.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(tb){return"undefined"!=typeof console&&console.warn(tb),Object(Ct.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ct.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=kb(n,e),s=this.schedulers.ngZone.run(()=>r);return new Ob(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Cb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Tb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Pi.c),r.Sb(Pi.b,8),r.Sb(Ib,8),r.Sb(Ab,8),r.Sb(r.B),r.Sb(r.z),r.Sb(xb,8),r.Sb(jb,8),r.Sb(hb,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Pi.c),Object(r.Sb)(Pi.b,8),Object(r.Sb)(Ib,8),Object(r.Sb)(Ab,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(xb,8),Object(r.Sb)(jb,8),Object(r.Sb)(hb,8))},token:t,providedIn:"any"}),t})(),Pb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Ib,useValue:!0},{provide:xb,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Nb]}),t})(),Db=(()=>{class t{constructor(t){this.fireStore=t}applyEmployee(t){return this.fireStore.collection("employees").add(t)}getEmployees(){return this.fireStore.collection("employees",t=>t.orderBy("createDate","asc")).snapshotChanges()}deleteEmployee(t){return this.fireStore.collection("employees").doc(t).delete()}getEmployee(t){return this.fireStore.collection("employees").doc(t).snapshotChanges()}updateEmployee(t,e){return this.fireStore.collection("employees").doc(t).update(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Nb))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Rb{}const Lb="*";function Fb(t,e){return{type:7,name:t,definitions:e,options:{}}}function Vb(t,e=null){return{type:4,styles:e,timings:t}}function Mb(t,e=null){return{type:2,steps:t,options:e}}function Ub(t){return{type:6,styles:t,offset:null}}function qb(t,e,n){return{type:0,name:t,styles:e,options:n}}function Hb(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function zb(t){Promise.resolve(null).then(t)}class Bb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class $b{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?zb(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Gb=["toast-component",""];function Kb(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.dc(t),r.Xb().remove()}),r.Ob(1,"span",6),r.kc(2,"\xd7"),r.Nb(),r.Nb()}}function Wb(t,e){if(1&t&&(r.Mb(0),r.kc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.mc("[",t.duplicatesCount+1,"]")}}function Jb(t,e){if(1&t&&(r.Ob(0,"div"),r.kc(1),r.jc(2,Wb,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.mc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function Qb(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.ec)}}function Zb(t,e){if(1&t&&(r.Ob(0,"div",8),r.kc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.mc(" ",t.message," ")}}function Yb(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.hc("width",t.width+"%")}}function Xb(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.dc(t),r.Xb().remove()}),r.Ob(1,"span",6),r.kc(2,"\xd7"),r.Nb(),r.Nb()}}function t_(t,e){if(1&t&&(r.Mb(0),r.kc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.mc("[",t.duplicatesCount+1,"]")}}function e_(t,e){if(1&t&&(r.Ob(0,"div"),r.kc(1),r.jc(2,t_,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.mc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function n_(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.ec)}}function r_(t,e){if(1&t&&(r.Ob(0,"div",8),r.kc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.mc(" ",t.message," ")}}function i_(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.hc("width",t.width+"%")}}class s_{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new xt.a,this._onAction=new xt.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const o_={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},a_=new r.q("ToastConfig");class u_{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class c_ extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let l_=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class h_{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let f_=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new c_(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new h_(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(l_),r.Sb(r.j),r.Sb(r.g),r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(l_),Object(r.Sb)(r.j),Object(r.Sb)(r.g),Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class d_{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new xt.a,this._activate=new xt.a,this._manualClose=new xt.a,this._resetTimeout=new xt.a,this._countDuplicate=new xt.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class p_{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===s_?this._toastPackage:this._parentInjector.get(t,e,n)}}let m_=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.H.HTML,e));const c=new d_(a),l=new s_(this.index,i,u,n,t,c),h=new p_(l,this._injector),f=new u_(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a_),r.Sb(f_),r.Sb(r.r),r.Sb(_t),r.Sb(r.z))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(a_),Object(r.Sb)(f_),Object(r.Sb)(r.o),Object(r.Sb)(_t),Object(r.Sb)(r.z))},token:t,providedIn:"root"}),t})(),g_=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m_),r.Jb(s_),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.ic("@flyInOut",e.state),r.Ab(e.toastClasses),r.hc("display",e.displayStyle))},attrs:Gb,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.jc(0,Kb,3,0,"button",0),r.jc(1,Jb,3,5,"div",1),r.jc(2,Qb,1,3,"div",2),r.jc(3,Zb,2,4,"div",3),r.jc(4,Yb,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[U],encapsulation:2,data:{animation:[Fb("flyInOut",[qb("inactive",Ub({opacity:0})),qb("active",Ub({opacity:1})),qb("removed",Ub({opacity:0})),Hb("inactive => active",Vb("{{ easeTime }}ms {{ easing }}")),Hb("active => removed",Vb("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const y_=Object.assign(Object.assign({},o_),{toastComponent:g_});let v_=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:a_,useValue:{default:y_,config:e}}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),b_=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m_),r.Jb(s_),r.Jb(r.g))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Ab(e.toastClasses),r.hc("display",e.displayStyle))},attrs:Gb,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.jc(0,Xb,3,0,"button",0),r.jc(1,e_,3,5,"div",1),r.jc(2,n_,1,3,"div",2),r.jc(3,r_,2,4,"div",3),r.jc(4,i_,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[U],encapsulation:2}),t})();Object.assign(Object.assign({},o_),{toastComponent:b_});const __=function(t){return["/edit-employee",t]};function w_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td"),r.kc(2),r.Nb(),r.Ob(3,"td"),r.kc(4),r.Nb(),r.Ob(5,"td"),r.kc(6),r.Nb(),r.Ob(7,"td"),r.kc(8),r.Yb(9,"currency"),r.Nb(),r.Ob(10,"td"),r.Kb(11,"i",9),r.Ob(12,"i",10),r.Vb("click",function(){r.dc(t);const n=e.$implicit;return r.Xb().deleteEmployee(n.id)}),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.yb(2),r.lc(t.firstName),r.yb(2),r.lc(t.lastName),r.yb(2),r.lc(t.document),r.yb(2),r.lc(r.Zb(9,5,t.salary)),r.yb(3),r.ac("routerLink",r.bc(7,__,t.id))}}function E_(t,e){1&t&&(r.Ob(0,"tr"),r.Ob(1,"td",11),r.kc(2,"There are no employees"),r.Nb(),r.Nb())}let S_=(()=>{class t{constructor(t,e,n){this._employeeService=e,this.toastr=n,this.employees=[]}ngOnInit(){this.getAllEmployees()}getAllEmployees(){this._employeeService.getEmployees().subscribe(t=>{this.employees=[],t.forEach(t=>{this.employees.push(Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})})}deleteEmployee(t){this._employeeService.deleteEmployee(t).then(()=>{throw new Error}).catch(t=>{this.toastr.error("Failed to remove!","Remove Employee",{positionClass:"toast-bottom-right"})})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Nb),r.Jb(Db),r.Jb(m_))},t.\u0275cmp=r.Db({type:t,selectors:[["app-list-employees"]],decls:23,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-employee",1,"btn","btn-dark","btn-lg","float-right"],[1,"fas","fa-user-plus","mr-2"],[1,"table","table-striped","mt-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fas","fa-user-edit","mr-3","fa-lg","text-info",3,"routerLink"],[1,"fas","fa-user-slash","fa-lg","text-danger",3,"click"],["colspan","5"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"span",3),r.kc(4,"List of Employees"),r.Nb(),r.Ob(5,"button",4),r.Kb(6,"i",5),r.kc(7,"Add "),r.Nb(),r.Ob(8,"table",6),r.Ob(9,"thead"),r.Ob(10,"tr"),r.Ob(11,"th"),r.kc(12,"First Name"),r.Nb(),r.Ob(13,"th"),r.kc(14,"Last Name"),r.Nb(),r.Ob(15,"th"),r.kc(16,"Document"),r.Nb(),r.Ob(17,"th"),r.kc(18,"Salary"),r.Nb(),r.Kb(19,"th"),r.Nb(),r.Nb(),r.Ob(20,"tbody"),r.jc(21,w_,13,9,"tr",7),r.jc(22,E_,3,0,"tr",8),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(21),r.ac("ngForOf",e.employees),r.yb(1),r.ac("ngIf",0==e.employees.length))},directives:[ii,V,U],pipes:[z],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var O_=n("XoHu");function T_(t,e){return new Ft.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(It.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const C_=new r.q("NgValueAccessor"),I_={provide:C_,useExisting:Object(r.T)(()=>x_),multi:!0};let x_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([I_])]}),t})();const A_={provide:C_,useExisting:Object(r.T)(()=>k_),multi:!0},j_=new r.q("CompositionEventMode");let k_=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(j_,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([A_])]}),t})();function N_(t){return null==t||0===t.length}function P_(t){return null!=t&&"number"==typeof t.length}const D_=new r.q("NgValidators"),R_=new r.q("NgAsyncValidators"),L_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class F_{static min(t){return e=>{if(N_(e.value)||N_(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(N_(e.value)||N_(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return N_(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return N_(t.value)||L_.test(t.value)?null:{email:!0}}static minLength(t){return e=>N_(e.value)||!P_(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>P_(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return F_.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(N_(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(V_);return 0==e.length?null:function(t){return U_(q_(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(V_);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Nt.a)(e))return T_(e,null);if(Object(O_.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return T_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return T_(t=1===t.length&&Object(Nt.a)(t[0])?t[0]:t,null).pipe(Object(Gt.a)(t=>e(...t)))}return T_(t,null)}(q_(t,e).map(M_)).pipe(Object(Gt.a)(U_))}}}function V_(t){return null!=t}function M_(t){const e=Object(r.qb)(t)?Object(It.a)(t):t;return Object(r.pb)(e),e}function U_(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function q_(t,e){return e.map(e=>e(t))}function H_(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function z_(t){return null!=t?F_.compose(H_(t)):null}function B_(t){return null!=t?F_.composeAsync(H_(t)):null}function $_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function G_(t){return t._rawValidators}function K_(t){return t._rawAsyncValidators}let W_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=z_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=B_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),J_=(()=>{class t extends W_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Q_(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const Q_=r.Qb(J_);class Z_ extends W_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Y_{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let X_=(()=>{class t extends Y_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Z_,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),tw=(()=>{class t extends Y_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(J_,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const ew={provide:C_,useExisting:Object(r.T)(()=>nw),multi:!0};let nw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ew])]}),t})();const rw={provide:C_,useExisting:Object(r.T)(()=>sw),multi:!0};let iw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),sw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Z_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(iw),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([rw])]}),t})();const ow={provide:C_,useExisting:Object(r.T)(()=>aw),multi:!0};let aw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ow])]}),t})();const uw={provide:C_,useExisting:Object(r.T)(()=>cw),multi:!0};let cw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([uw])]}),t})();const lw={provide:C_,useExisting:Object(r.T)(()=>hw),multi:!0};let hw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([lw])]}),t})();function fw(t,e){pw(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gw(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function dw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pw(t,e,n){const r=G_(t);null!==e.validator?t.setValidators($_(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=K_(t);if(null!==e.asyncValidator?t.setAsyncValidators($_(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();dw(e._rawValidators,n),dw(e._rawAsyncValidators,n)}}function mw(t,e,n){if(null!==t){if(null!==e.validator){const n=G_(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=K_(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};dw(e._rawValidators,t),dw(e._rawAsyncValidators,t)}}function gw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yw(t,e){pw(t,e,!1)}const vw=[x_,aw,nw,cw,hw,sw];function bw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _w="VALID",ww="INVALID",Ew="PENDING",Sw="DISABLED";function Ow(t){return(xw(t)?t.validators:t)||null}function Tw(t){return Array.isArray(t)?z_(t):t||null}function Cw(t,e){return(xw(e)?e.asyncValidators:t)||null}function Iw(t){return Array.isArray(t)?B_(t):t||null}function xw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Aw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Tw(this._rawValidators),this._composedAsyncValidatorFn=Iw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_w}get invalid(){return this.status===ww}get pending(){return this.status==Ew}get disabled(){return this.status===Sw}get enabled(){return this.status!==Sw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Tw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Iw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ew,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_w,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==_w&&this.status!==Ew||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sw:_w}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ew,this._hasOwnPendingAsyncValidator=!0;const e=M_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof kw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Nw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Sw:this.errors?ww:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ew)?Ew:this._anyControlsHaveStatus(ww)?ww:_w}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jw extends Aw{constructor(t=null,e,n){super(Ow(e),Cw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kw extends Aw{constructor(t,e,n){super(Ow(e),Cw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof jw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Nw extends Aw{constructor(t,e,n){super(Ow(e),Cw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof jw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Pw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Dw=new r.q("NgModelWithFormControlWarning"),Rw={provide:J_,useExisting:Object(r.T)(()=>Lw)};let Lw=(()=>{class t extends J_{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return fw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){bw(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);yw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);yw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),mw(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&fw(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pw(this.form,this,!1),this._oldForm&&mw(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(D_,10),r.Jb(R_,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Rw]),r.vb,r.wb]}),t})();const Fw={provide:Z_,useExisting:Object(r.T)(()=>Vw)};let Vw=(()=>{class t extends Z_{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===k_?n=t:(e=t,vw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(J_,13),r.Jb(D_,10),r.Jb(R_,10),r.Jb(C_,10),r.Jb(Dw,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([Fw]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),Mw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),Uw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new kw(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new jw(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Nw(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof jw||t instanceof kw||t instanceof Nw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),qw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Dw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Uw,iw],imports:[Mw]}),t})();function Hw(t,e){1&t&&(r.Ob(0,"div",17),r.Ob(1,"span",18),r.kc(2,"Loading..."),r.Nb(),r.Nb())}function zw(t,e){1&t&&(r.Ob(0,"div"),r.kc(1," First Name is required. "),r.Nb())}function Bw(t,e){1&t&&(r.Ob(0,"div"),r.kc(1," Last Name is required. "),r.Nb())}function $w(t,e){1&t&&(r.Ob(0,"div"),r.kc(1," Document is required. "),r.Nb())}function Gw(t,e){1&t&&(r.Ob(0,"div"),r.kc(1," Salary is required. "),r.Nb())}function Kw(t,e){if(1&t&&(r.Ob(0,"div"),r.Ob(1,"div",19),r.kc(2,"Please, fill correctly all the fields!"),r.Nb(),r.jc(3,zw,2,0,"div",6),r.jc(4,Bw,2,0,"div",6),r.jc(5,$w,2,0,"div",6),r.jc(6,Gw,2,0,"div",6),r.Nb()),2&t){const t=r.Xb();r.yb(3),r.ac("ngIf",t.createEmployee.controls.firstName.invalid&&t.createEmployee.controls.firstName.errors.required),r.yb(1),r.ac("ngIf",t.createEmployee.controls.lastName.invalid&&t.createEmployee.controls.lastName.errors.required),r.yb(1),r.ac("ngIf",t.createEmployee.controls.document.invalid&&t.createEmployee.controls.document.errors.required),r.yb(1),r.ac("ngIf",t.createEmployee.controls.salary.invalid&&t.createEmployee.controls.salary.errors.required)}}let Ww=(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this._employeeService=e,this.router=n,this.toastr=r,this.aRoute=i,this.submitted=!1,this.loading=!1,this.componentTitle="Add Employee",this.createEmployee=this.fb.group({firstName:["",F_.required],lastName:["",F_.required],document:["",F_.required],salary:["",[F_.required,F_.pattern("^[0-9]+$")]]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEditing()}applyOrEditEmployee(){if(this.submitted=!0,this.createEmployee.invalid)return void(this.loading=!1);const t={firstName:this.createEmployee.value.firstName,lastName:this.createEmployee.value.lastName,document:this.createEmployee.value.document,salary:this.createEmployee.value.salary,createDate:new Date,editDate:new Date};null===this.id?this.applyEmployee(t):this.editEmployee(t)}applyEmployee(t){this.loading=!0,this._employeeService.applyEmployee(t).then(()=>{this.toastr.success("Employee has been applied!","Apply Employee",{positionClass:"toast-bottom-right"}),this.router.navigate(["list-employees"])}).catch(t=>{console.error(t),this.toastr.error("Failed to apply!","Apply Employee",{positionClass:"toast-bottom-right"})}),this.loading=!1}editEmployee(t){this.loading=!0,Reflect.deleteProperty(t,"createDate"),this._employeeService.updateEmployee(this.id,t).then(()=>{this.toastr.info("Employee has been edited!","Edit Employee",{positionClass:"toast-bottom-right"}),this.router.navigate(["list-employees"])}).catch(t=>{console.error(t),this.toastr.error("Failed to edit!","Edit Employee",{positionClass:"toast-bottom-right"})}),this.loading=!1}isEditing(){null!==this.id&&(this.loading=!0,this.componentTitle="Edit Employee",this._employeeService.getEmployee(this.id).subscribe(t=>{this.loading=!1,this.createEmployee.setValue({firstName:t.payload.data().firstName,lastName:t.payload.data().lastName,document:t.payload.data().document,salary:t.payload.data().salary})}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Uw),r.Jb(Db),r.Jb(ri),r.Jb(m_),r.Jb(Mn))},t.\u0275cmp=r.Db({type:t,selectors:[["app-create-employee"]],decls:22,vars:4,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border text-info","role","status",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","mt-4"],[1,"col"],["type","text","placeholder","First Name","formControlName","firstName",1,"form-control","form-control-lg"],["type","text","placeholder","Last name","formControlName","lastName",1,"form-control","form-control-lg"],["type","text","placeholder","Document","formControlName","document",1,"form-control","form-control-lg","mt-4"],["type","number","placeholder","Salary","formControlName","salary",1,"form-control","form-control-lg","mt-4"],[1,"mt-4"],["type","text","routerLink","list-employees",1,"btn","btn-secondary","btn-lg","mr-3"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","text-info"],[1,"sr-only"],[1,"badge","badge-danger","p-3"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"div",4),r.Ob(5,"h3"),r.kc(6),r.Nb(),r.jc(7,Hw,3,0,"div",5),r.jc(8,Kw,7,4,"div",6),r.Ob(9,"form",7),r.Vb("ngSubmit",function(){return e.applyOrEditEmployee()}),r.Ob(10,"div",8),r.Ob(11,"div",9),r.Kb(12,"input",10),r.Nb(),r.Ob(13,"div",9),r.Kb(14,"input",11),r.Nb(),r.Nb(),r.Kb(15,"input",12),r.Kb(16,"input",13),r.Ob(17,"div",14),r.Ob(18,"button",15),r.kc(19,"Back"),r.Nb(),r.Ob(20,"button",16),r.kc(21,"Apply"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(6),r.lc(e.componentTitle),r.yb(1),r.ac("ngIf",e.loading),r.yb(1),r.ac("ngIf",e.submitted&&e.createEmployee.invalid),r.yb(1),r.ac("formGroup",e.createEmployee))},directives:[U,Pw,tw,Lw,k_,X_,Vw,nw,ii],styles:[""]}),t})();const Jw=[{path:"",redirectTo:"list-employees",pathMatch:"full"},{path:"list-employees",component:S_},{path:"create-employee",component:Ww},{path:"edit-employee/:id",component:Ww},{path:"**",redirectTo:"list-employees",pathMatch:"full"}];let Qw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[yi.forRoot(Jw)],yi]}),t})();function Zw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Yw(t){switch(t.length){case 0:return new Bb;case 1:return t[0];default:return new $b(t)}}function Xw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Lb:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function tE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&eE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&eE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&eE(n,"destroy",t)))}}function eE(t,e,n){const r=n.totalTime,i=nE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function nE(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function rE(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function iE(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let sE=(t,e)=>!1,oE=(t,e)=>!1,aE=(t,e,n)=>[];const uE=Zw();(uE||"undefined"!=typeof Element)&&(sE=(t,e)=>t.contains(e),oE=(()=>{if(uE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):oE}})(),aE=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let cE=null,lE=!1;function hE(t){cE||(cE=("undefined"!=typeof document?document.body:null)||{},lE=!!cE.style&&"WebkitAppearance"in cE.style);let e=!0;return cE.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in cE.style,!e&&lE)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in cE.style),e}const fE=oE,dE=sE,pE=aE;function mE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let gE=(()=>{class t{validateStyleProperty(t){return hE(t)}matchesElement(t,e){return fE(t,e)}containsElement(t,e){return dE(t,e)}query(t,e,n){return pE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Bb(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),yE=(()=>{class t{}return t.NOOP=new gE,t})();const vE="ng-enter",bE="ng-leave",_E="ng-trigger",wE=".ng-trigger",EE="ng-animating",SE=".ng-animating";function OE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TE(parseFloat(e[1]),e[2])}function TE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function CE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=TE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=TE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function IE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function xE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else IE(t,n);return n}function AE(t,e,n){return n?e+":"+n+";":""}function jE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=AE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=AE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function kE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ME(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Zw()&&jE(t))}function NE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ME(e);t.style[n]=""}),Zw()&&jE(t))}function PE(t){return Array.isArray(t)?1==t.length?t[0]:Mb(t):t}const DE=new RegExp("{{\\s*(.+?)\\s*}}","g");function RE(t){let e=[];if("string"==typeof t){let n;for(;n=DE.exec(t);)e.push(n[1]);DE.lastIndex=0}return e}function LE(t,e,n){const r=t.toString(),i=r.replace(DE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function FE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const VE=/-+([a-z0-9])/g;function ME(t){return t.replace(VE,(...t)=>t[1].toUpperCase())}function UE(t,e){return 0===t||0===e}function qE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=zE(t,e)})}}return e}function HE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function zE(t,e){return window.getComputedStyle(t)[e]}const BE="*";function $E(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(WE(i,o)),"<"!=s[0]||i==BE&&o==BE||e.push(WE(o,i))}(t,n,e)):n.push(t),n}const GE=new Set(["true","1"]),KE=new Set(["false","0"]);function WE(t,e){const n=GE.has(t)||KE.has(t),r=GE.has(e)||KE.has(e);return(i,s)=>{let o=t==BE||t==i,a=e==BE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?GE.has(t):KE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?GE.has(e):KE.has(e)),o&&a}}const JE=new RegExp("s*:selfs*,?","g");function QE(t,e,n){return new ZE(t).build(e,n)}class ZE{constructor(t){this._driver=t}build(t,e){const n=new YE(e);return this._resetContextStyleTimingState(n),HE(this,PE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(XE(t)){const e=t;Object.keys(e).forEach(t=>{RE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=FE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=HE(this,PE(t.animation),e);return{type:1,matchers:$E(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:tS(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>HE(this,t,e)),options:tS(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=HE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:tS(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return eS(CE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=eS(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||CE(r,e),eS(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ub({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Ub(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Lb?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(XE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=RE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(XE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(XE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:HE(this,PE(t.animation),e),options:tS(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:tS(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:tS(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(JE,"")),[t=t.replace(/@\*/g,wE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,SE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,rE(e.collectedStyles,e.currentQuerySelector,{});const o=HE(this,PE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:tS(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:CE(t.timings,e.errors,!0);return{type:12,animation:HE(this,PE(t.animation),e),timings:n,options:null}}}class YE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function XE(t){return!Array.isArray(t)&&"object"==typeof t}function tS(t){var e;return t?(t=IE(t)).params&&(t.params=(e=t.params)?IE(e):null):t={},t}function eS(t,e,n){return{duration:t,delay:e,easing:n}}function nS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class rS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const iS=new RegExp(":enter","g"),sS=new RegExp(":leave","g");function oS(t,e,n,r,i,s={},o={},a,u,c=[]){return(new aS).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class aS{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new rS;const l=new cS(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),HE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[nS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?OE(n.duration):null,s=null!=n.delay?OE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),HE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uS);const t=OE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>HE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?OE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),HE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return CE(e.params?LE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?OE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uS);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),HE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;HE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const uS={};class cS{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new lS(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=OE(n.duration)),null!=n.delay&&(r.delay=OE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=LE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new cS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=uS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new hS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(iS,"."+this._enterClassName)).replace(sS,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class lS{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Lb,this._currentKeyframe[t]=Lb}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Lb})):xE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=LE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Lb),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=xE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Lb&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?FE(t.values()):[],s=e.size?FE(e.values()):[];if(n){const t=r[0],e=IE(t);t.offset=0,e.offset=1,r=[t,e]}return nS(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class hS extends lS{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=xE(t[0],!1);a.offset=0,i.push(a);const u=xE(t[0],!1);u.offset=fS(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=xE(t[r],!1);o.offset=fS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return nS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function fS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class dS{}class pS extends dS{normalizePropertyName(t,e){return ME(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(mS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const mS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gS(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const yS={};class vS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||yS,f=this.buildStyles(n,o&&o.params||yS,l),d=a&&a.params||yS,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:oS(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return gS(e,this._triggerName,n,r,v,f,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=rE(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=rE(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=FE(m.values());return gS(e,this._triggerName,n,r,v,f,p,_,E,g,y,w)}}class bS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=IE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=LE(s,r,e)),n[t]=s})}}),n}}class _S{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new bS(t.style,t.options&&t.options.params||{})}),wS(this.states,"true","1"),wS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new vS(t,e,this.states))}),this.fallbackTransition=new vS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function wS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ES=new rS;class SS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=QE(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Xw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=oS(this._driver,e,i,vE,bE,{},{},n,ES,r),s.forEach(t=>{const e=rE(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Lb)})});const a=Yw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=nE(e,"","","");return tE(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const OS="ng-animate-queued",TS="ng-animate-disabled",CS=".ng-animate-disabled",IS=[],xS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},AS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class jS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=IE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const kS="void",NS=new jS(kS);class PS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,US(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=rE(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=rE(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(US(t,_E),US(t,"ng-trigger-"+e),a[e]=NS),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new RS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(US(t,_E),US(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new jS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=NS),u.value!==kS&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{NE(t,n),kE(t,r)})}return}const c=rE(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(US(t,OS),s.onStart(()=>{qS(t,OS)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,wE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,kS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Yw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||NS,o=new jS(kS),a=new RS(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==xS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){US(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=nE(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,tE(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class DS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new PS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(LS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!LS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),US(t,TS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qS(t,TS))}removeNode(t,e,n,r){if(LS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return LS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,wE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,SE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Yw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=xS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,CS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,CS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)US(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Yw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new rS,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=MS(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=vE+p++;d.set(e,n),t.forEach(t=>US(t,n))});const m=[],g=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=MS(h,Array.from(g));b.forEach((t,e)=>{const n=bE+p++;v.set(e,n),t.forEach(t=>US(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>qS(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>qS(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>NE(i,p.fromStyles)),e.onDestroy(()=>kE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>NE(i,p.fromStyles)),e.onDestroy(()=>kE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>rE(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{rE(E,e,[]).push(t),t.destroy()})});const O=m.filter(t=>BS(t,a,u)),T=new Map;VS(T,this.driver,y,u,Lb).forEach(t=>{BS(t,a,u)&&O.push(t)});const C=new Map;f.forEach((t,e)=>{VS(C,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>kE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,T);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Yw(e)),r.push(s)}}else NE(e,o.fromStyles),s.onDestroy(()=>kE(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Yw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<m.length;j++){const t=m[j],e=t.__ng_removed;if(qS(t,bE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,SE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?HS(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==kS;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=rE(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}NE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Bb(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return zS(t,e),e}((n.get(h)||IS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Xw(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new RS(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{rE(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>US(t,EE));const f=Yw(h);return f.onDestroy(()=>{c.forEach(t=>qS(t,EE)),kE(a,e.toStyles)}),l.forEach(t=>{rE(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Bb(t.duration,t.delay)}}class RS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Bb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>tE(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){rE(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function LS(t){return t&&1===t.nodeType}function FS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function VS(t,e,n,r,i){const s=[];n.forEach(t=>s.push(FS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=AS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>FS(t,s[a++])),o}function MS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function US(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function qS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function HS(t,e,n){Yw(n).onDone(()=>t.processLeaveNode(e))}function zS(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof $b?zS(r.players,e):e.push(r)}}function BS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class $S{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new DS(t,e,n),this._timelineEngine=new SS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=QE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new _S(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=iE(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=iE(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function GS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=WS(e[0]),e.length>1&&(r=WS(e[e.length-1]))):e&&(n=WS(e)),n||r?new KS(t,n,r):null}let KS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&kE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kE(this._element,this._initialStyles),this._endStyles&&(kE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(NE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(NE(this._element,this._endStyles),this._endStyles=null),kE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function WS(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];JS(i)&&(e=e||{},e[i]=t[i])}return e}function JS(t){return"display"===t||"position"===t}const QS="animation",ZS="animationend";class YS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=iO(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),rO(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){XS(this._element,this._name,"paused")}resume(){XS(this._element,this._name,"running")}setPosition(t){const e=tO(this._element,this._name);this._position=t*this._duration,rO(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=iO(t,"").split(","),r=eO(n,e);r>=0&&(n.splice(r,1),rO(t,"",n.join(",")))}(this._element,this._name))}}function XS(t,e,n){rO(t,"PlayState",n,tO(t,e))}function tO(t,e){const n=iO(t,"");return n.indexOf(",")>0?eO(n.split(","),e):eO([n],e)}function eO(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function nO(t,e,n){n?t.removeEventListener(ZS,e):t.addEventListener(ZS,e)}function rO(t,e,n,r){const i=QS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function iO(t,e){return t.style[QS+e]||""}class sO{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new YS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:zE(this.element,n))})}this.currentSnapshot=t}}class oO extends Bb{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=mE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class aO{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return hE(t)}matchesElement(t,e){return fE(t,e)}containsElement(t,e){return dE(t,e)}query(t,e,n){return pE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>mE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof sO),u={};UE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=qE(t,e,u));if(0==n)return new oO(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=GS(t,e),d=new sO(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class uO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:zE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class cO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(lO().toString()),this._cssKeyframesDriver=new aO}validateStyleProperty(t){return hE(t)}matchesElement(t,e){return fE(t,e)}containsElement(t,e){return dE(t,e)}query(t,e,n){return pE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof uO);UE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=GS(t,e=qE(t,e=e.map(t=>xE(t,!1)),u));return new uO(t,e,a,l)}}function lO(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let hO=(()=>{class t extends Rb{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Mb(t):t;return pO(this._renderer,null,e,"register",[n]),new fO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class fO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new dO(this._id,t,e||{},this._renderer)}}class dO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return pO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function pO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const mO="@",gO="@.disabled";let yO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new vO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new bO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb($S),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class vO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==mO&&e==gO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class bO extends vO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==mO?"."==e.charAt(1)&&e==gO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==mO){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=mO&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let _O=(()=>{class t extends $S{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(yE),r.Sb(dS))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const wO=[{provide:yE,useFactory:function(){return"function"==typeof lO()?new cO:new aO}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Rb,useClass:hO},{provide:dS,useFactory:function(){return new pS}},{provide:$S,useClass:_O},{provide:r.E,useFactory:function(t,e,n){return new yO(t,e,n)},deps:[lt,$S,r.z]}];let EO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:wO,imports:[Tt]}),t})(),SO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],["routerLink","/list-employee",1,"navbar-brand"],[1,"navbar-brand","mb-0","h1"]],template:function(t,e){1&t&&(r.Ob(0,"nav",0),r.Ob(1,"a",1),r.Ob(2,"span",2),r.kc(3,"App: Employees on FireBase"),r.Nb(),r.Nb(),r.Nb())},directives:[si],styles:[""]}),t})(),OO=(()=>{class t{constructor(){this.title="employees"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Kb(0,"app-navbar"),r.Kb(1,"router-outlet"))},directives:[SO,ai],styles:[""]}),t})(),TO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[OO]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[],imports:[[Tt,Qw,Pi.a.initializeApp(i),Pb,qw,EO,v_.forRoot()]]}),t})();Object(r.S)(),St().bootstrapModule(TO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);